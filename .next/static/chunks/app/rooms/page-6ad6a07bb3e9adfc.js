(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[497],{3769:(e,s,l)=>{Promise.resolve().then(l.bind(l,3041))},8368:(e,s,l)=>{"use strict";l.d(s,{Ay:()=>o});let t={_origin:"https://api.emailjs.com"},a=(e,s,l)=>{if(!e)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!s)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!l)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class i{constructor(e){this.status=e.status,this.text=e.responseText}}let r=(e,s,l={})=>new Promise((a,r)=>{let n=new XMLHttpRequest;n.addEventListener("load",({target:e})=>{let s=new i(e);200===s.status||"OK"===s.text?a(s):r(s)}),n.addEventListener("error",({target:e})=>{r(new i(e))}),n.open("POST",t._origin+e,!0),Object.keys(l).forEach(e=>{n.setRequestHeader(e,l[e])}),n.send(s)}),n=e=>{let s;if(!(s="string"==typeof e?document.querySelector(e):e)||"FORM"!==s.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return s},o={init:(e,s="https://api.emailjs.com")=>{t._userID=e,t._origin=s},send:(e,s,l,i)=>{let n=i||t._userID;return a(n,e,s),r("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:n,service_id:e,template_id:s,template_params:l}),{"Content-type":"application/json"})},sendForm:(e,s,l,i)=>{let o=i||t._userID,c=n(l);a(o,e,s);let d=new FormData(c);return d.append("lib_version","3.2.0"),d.append("service_id",e),d.append("template_id",s),d.append("user_id",o),r("/api/v1.0/email/send-form",d)}}},1894:(e,s,l)=>{"use strict";l.d(s,{oK:()=>h,Em:()=>m,bO:()=>n,l9:()=>c,FO:()=>r,sC:()=>o,Xn:()=>d});var t=l(2651);let a="http://localhost:5000/api",i={GET_ROOMS:()=>a+"/rooms",GET_DELUXE_ROOMS:()=>a+"/deluxe-rooms",GET_SUPER_DELUXE_ROOMS:()=>a+"/super-deluxe-rooms",GET_FAMILY_ROOMS:()=>a+"/family-rooms",GET_DELUXE_ROOMSBYNUMBER:e=>"".concat(a,"/api/deluxe-rooms/?id=").concat(e),GET_SUPERDELUXE_ROOMSBYNUMBER:e=>a+"/super-deluxe-rooms/?id=".concat(e),GET_FAMILY_ROOMSBYNUMBER:e=>a+"/family-rooms/?id=".concat(e),GET_AMINITIES:()=>a+"/amenities",POST_BOOKING_ROOMS:()=>a+"/bookings",PUT_FAMILY_ROOM:()=>a+"/family-rooms/".concat(id),PUT_DELUXE_ROOM:e=>"".concat(a,"/deluxe-rooms/").concat(e),PUT_SUPERDELUXE_ROOM:()=>a+"/super-deluxe-rooms/".concat(id)};Object.freeze(i);let r=()=>t.A.get(i.GET_ROOMS()).then(e=>(console.log("API Response:",e.data),{result:e.data})).catch(e=>(console.error("Error fetching rooms data:",e),{result:null})),n=()=>t.A.get(i.GET_DELUXE_ROOMS()).then(e=>(console.log("Deluxe Room API Response:",e.data),{result:e.data})).catch(e=>(console.error("Error fetching Deluxe Room data:",e),{result:null})),o=()=>t.A.get(i.GET_SUPER_DELUXE_ROOMS()).then(e=>(console.log("Super Deluxe Room API Response:",e.data),{result:e.data})).catch(e=>(console.error("Error fetching Super Deluxe Room data:",e),{result:null})),c=()=>t.A.get(i.GET_FAMILY_ROOMS()).then(e=>(console.log("Family Deluxe Room API Response:",e.data),{result:e.data})).catch(e=>(console.error("Error fetching Family Deluxe Room data:",e),{result:null})),d=e=>fetch(i.POST_BOOKING_ROOMS(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.ok?e.json():e.text().then(s=>{throw Error("Booking failed: ".concat(e.statusText,". Response body: ").concat(s))})).then(e=>(console.log("Booking successful",e),e)).catch(e=>{throw console.error("Error during booking:",e.message),e});async function m(){try{let e=await fetch(i.GET_AMINITIES(),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));return await e.json()}catch(e){throw console.error("Error fetching amenities:",e),e}}async function h(e,s){try{let l={...s,available:!1},a=await t.A.put(i.PUT_DELUXE_ROOM(e),l);return console.log("Updated Room Data:",a.data),a.data}catch(e){throw console.error("Error updating deluxe room:",e),e}}},3041:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>p});var t=l(5155),a=l(2115),i=l(1894);let r=e=>{let{filters:s,toggleFilter:l}=e;return(0,t.jsxs)("aside",{className:"p-4 bg-gray-100 w-full  h-screen",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Filter by"}),Object.keys(s).map(e=>(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg capitalize",children:e}),(0,t.jsx)("ul",{className:"space-y-2 mt-2",children:Object.keys(s[e]).map(a=>(0,t.jsx)("li",{children:(0,t.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:s[e][a],onChange:()=>l(e,a),className:"form-checkbox"}),(0,t.jsx)("span",{className:"capitalize",children:a.replace(/([A-Z])/g," $1").toLowerCase()})]})},a))})]},e))]})};var n=l(7396);let o=e=>{let{title:s,backgroundImage:l}=e;return(0,t.jsxs)("div",{className:"relative bg-cover bg-center h-[400px] flex items-center justify-center text-center text-white",style:{backgroundImage:"url(".concat(l,")")},children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50"}),(0,t.jsxs)("div",{className:"relative z-10 w-full max-w-5xl mx-auto p-4",children:[(0,t.jsx)("h1",{className:"text-4xl md:text-5xl font-extrabold leading-tight",children:s}),(0,t.jsxs)("div",{className:"text-lg mt-4  ",children:[(0,t.jsx)(n.default,{href:"/",className:"hover:underline",children:"Home /"}),(0,t.jsx)("span",{className:"text-lg mt-2 pl-2",children:(0,t.jsx)(n.default,{href:"/rooms",className:"hover:underline",children:"Rooms & Suites"})})]})]})]})};var c=l(5565),d=l(1169),m=l(8368);let h=e=>{let{isVisible:s,onClose:l,roomDetails:r}=e,[n,o]=(0,a.useState)({firstName:"",lastName:"",address:"",city:"",pincode:"",phone:"",email:"",checkIn:"",checkOut:"",checkInTime:"",checkOutTime:"",roomPreference:"",numberOfAdults:"",roomId:null==r?void 0:r._id,price:null==r?void 0:r.price,title:null==r?void 0:r.name}),[c,d]=(0,a.useState)(!1),[h,u]=(0,a.useState)({}),[x,p]=(0,a.useState)(!1);(0,a.useEffect)(()=>{console.log("Room Details:",r)},[r]);let g=e=>{let{name:s,value:l}=e.target;o(e=>({...e,[s]:l})),u(e=>({...e,[s]:""}))},f=()=>{let e={};return Object.keys(n).forEach(s=>{n[s]||"roomPreference"===s||(e[s]="This field is required.",console.log('Field "'.concat(s,'" is empty.')))}),n.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)&&(e.email="Please enter a valid email address.",console.log('Invalid email address: "'.concat(n.email,'"'))),n.phone&&!/^[0-9]{10}$/.test(n.phone)&&(e.phone="Phone number must be 10 digits.",console.log('Invalid phone number: "'.concat(n.phone,'"'))),n.checkInTime>=n.checkOutTime&&(e.checkOutTime="Check-out time must be later than check-in time.",console.log('Check-in time "'.concat(n.checkInTime,'" is not earlier than check-out time "').concat(n.checkOutTime,'".'))),u(e),console.log("Validation Errors:",e),0===Object.keys(e).length},b=async e=>{let s={to_name:"".concat(e.firstName," ").concat(e.lastName),to_email:e.email,room_title:e.title,check_in:"".concat(e.checkIn," at ").concat(e.checkInTime),check_out:"".concat(e.checkOut," at ").concat(e.checkOutTime),price:e.price},l={to_name:"Hotel Management",to_email:"hotelsudarshan01@gmail.com",...e};try{await m.Ay.send("service_ap02rab","template_2ys919i",s,"e8oLmeL97LLcEGZ_X"),console.log("Email sent to user successfully."),await m.Ay.send("service_ap02rab","template_2ys919i",l,"e8oLmeL97LLcEGZ_X"),console.log("Email sent to hotel successfully.")}catch(e){console.error("Error sending emails:",e)}},j=async e=>{if(e.preventDefault(),console.log("Submitting Form Data:",n),!f()){alert("Please correct the highlighted errors.");return}p(!0);try{let e=await (0,i.Xn)(n);console.log("API Response:",e),e.success?(await (0,i.oK)(n.roomId,r),d(!0),alert("Booking successful!"),await b(n)):alert("Booking failed: ".concat(e.message))}catch(e){console.error("Error during booking:",e),alert("An error occurred while processing your booking. Please try again.")}finally{p(!1)}};return s?(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 w-full",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-5 w-[800px]",children:[(0,t.jsx)("div",{className:"h-48 bg-cover bg-center relative",style:{backgroundImage:"url('/images/img4.jpg')"},children:(0,t.jsx)("div",{className:"bg-black bg-opacity-50 h-full flex items-center justify-center text-white",children:(0,t.jsx)("h1",{className:"text-3xl font-bold",children:c?"Booking Confirmed!":"Complete Your Booking"})})}),(0,t.jsx)("div",{className:"p-6",children:c?(0,t.jsxs)("div",{className:"text-center p-4",children:[(0,t.jsx)("h2",{className:"text-2xl text-green-500 font-semibold",children:"Thank you for choosing us!"}),(0,t.jsx)("p",{className:"mt-4 text-gray-700",children:"Your booking was successful. We look forward to your stay!"}),(0,t.jsx)("button",{onClick:l,className:"mt-6 bg-blue-500 text-white py-2 px-6 rounded-lg hover:bg-blue-600",children:"Close"})]}):(0,t.jsxs)("form",{onSubmit:j,className:"space-y-4 overflow-scroll h-[500px]",children:[[{label:"First Name",name:"firstName"},{label:"Last Name",name:"lastName"},{label:"Address",name:"address"},{label:"City",name:"city"},{label:"Pincode",name:"pincode"},{label:"Phone",name:"phone"},{label:"Email",name:"email"},{label:"Check-in Date",name:"checkIn",type:"date"},{label:"Check-out Date",name:"checkOut",type:"date"},{label:"Check-in Time",name:"checkInTime",type:"time"},{label:"Check-out Time",name:"checkOutTime",type:"time"},{label:"Number of Adults",name:"numberOfAdults"}].map((e,s)=>(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:e.label}),(0,t.jsx)("input",{type:e.type||"text",name:e.name,value:n[e.name],onChange:g,className:"w-full p-2 border rounded-lg ".concat(h[e.name]?"border-red-500":"border-gray-300")}),h[e.name]&&(0,t.jsx)("p",{className:"text-red-500 text-sm",children:h[e.name]})]},s)),(0,t.jsxs)("div",{className:"flex justify-end gap-4 mt-6",children:[(0,t.jsx)("button",{type:"submit",disabled:x,className:"bg-blue-500 text-white font-medium py-2 px-6 rounded-lg ".concat(x?"opacity-50 cursor-not-allowed":"hover:bg-blue-600"),children:x?"Submitting...":"Confirm Booking"}),(0,t.jsx)("button",{type:"button",onClick:l,className:"border border-red-500 text-red-500 font-medium py-2 px-6 rounded-lg hover:bg-red-100",children:"Cancel"})]})]})})]})}):null},u=e=>{var s,l,i,r,o;let{isVisible:m,onClose:u,room:x}=e,[p,g]=(0,a.useState)(0),[f,b]=(0,a.useState)(!1),[j,y]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{let e=await fetch("/api/auth/session").then(e=>e.json());y(null!=e&&!!e.user)})()});let N=async e=>{let s={...e,roomId:x._id,roomTitle:x.title,roomPrice:x.price};try{let e=await fetch("/api/book",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),l=await e.json();l.success?(console.log("Booking confirmed:",l),await fetch("../../../pages/api/sendMail.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userEmail:l.userEmail,bookingData:s})})):console.error("Booking failed:",l.message)}catch(e){console.error("Error during booking:",e)}};if(!m||!x)return null;let v=["/images/img1.jpg","/images/img2.jpg","/images/img3.jpg"];return(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60",children:[(0,t.jsxs)("div",{className:"relative w-[90%] md:w-[90%] lg:w-[80%] flex flex-col h-[95%] md:h-[90%] bg-white rounded-lg shadow-2xl overflow-hidden",children:[(0,t.jsxs)("div",{className:"relative w-full h-[100px]  md:h-[200px] bg-cover bg-center flex items-center justify-center text-white",style:{backgroundImage:"url('".concat(v[p],"')")},children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50"}),(0,t.jsxs)("div",{className:"relative z-10 text-center",children:[(0,t.jsx)("h1",{className:"text-3xl md:text-4xl font-semibold",children:x.name}),(0,t.jsxs)("nav",{className:"text-md mt-2 flex justify-center gap-2 text-gray-300",children:[(0,t.jsx)(n.default,{href:"/",className:"hover:underline",children:"Home"}),(0,t.jsx)("span",{children:"/"}),(0,t.jsx)(n.default,{href:"/rooms",className:"hover:underline",children:"Rooms & Suites"})]})]}),(0,t.jsx)("button",{onClick:u,className:"absolute top-4 right-4 text-white bg-black bg-opacity-60 p-3 rounded-full hover:bg-opacity-80 transition",children:(0,t.jsx)(d.zhF,{size:24})})]}),(0,t.jsx)("div",{className:"w-full items-center justify-center flex",children:(0,t.jsx)("div",{className:"flex flex-col md:flex-row items-start justify-center p-6 gap-10 overflow-y-auto w-[80%] max-h-[700px] md:max-h-[700px] ",children:(0,t.jsx)("div",{className:"w-full items-center justify-center flex",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row items-start justify-center md:p-6 sm:p-2 gap-10 overflow-y-auto w-full max-w-[1200px] md:max-w-[80%] max-h-[700px] md:max-h-[700px]",children:[(0,t.jsxs)("div",{className:"relative w-full h-[250px] md:w-1/2 md:h-[600px] bg-gray-100 rounded-lg overflow-hidden",children:[(0,t.jsx)(c.default,{src:v[p],alt:"Room Image",className:"object-cover w-full h-full rounded-lg",width:500,height:500}),(0,t.jsx)("button",{onClick:()=>{g(e=>0===e?v.length-1:e-1)},className:"absolute top-1/2 left-4 -translate-y-1/2 text-white bg-black bg-opacity-50 p-3 rounded-full hover:bg-opacity-80 transition",children:(0,t.jsx)(d.qXl,{size:24})}),(0,t.jsx)("button",{onClick:()=>{g(e=>(e+1)%v.length)},className:"absolute top-1/2 right-4 -translate-y-1/2 text-white bg-black bg-opacity-50 p-3 rounded-full hover:bg-opacity-80 transition",children:(0,t.jsx)(d.BJp,{size:24})})]}),(0,t.jsxs)("div",{className:"flex-1 space-y-6 overflow-y-auto max-h-[400px] md:max-h-[600px]",children:[(0,t.jsx)("h3",{className:"text-2xl font-semibold",children:x.name}),(0,t.jsx)("p",{className:"text-md text-gray-600",children:x.description||"No description available."}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("p",{className:"text-lg font-semibold text-blue-500",children:["Price: ",x.price?"₹".concat(x.price)+" /-":"N/A /-"]}),(0,t.jsxs)("p",{className:"text-yellow-500 font-bold",children:["Rating: ",x.rating||"No rating"," ⭐"]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex gap-8 w-full",children:[(0,t.jsxs)("div",{className:"",children:[(0,t.jsx)("h4",{className:"text-lg font-semibold",children:"Room Size & Occupancy"}),(0,t.jsxs)("p",{className:"text-gray-700",children:["Size: ",x.size||"Not specified"]}),(0,t.jsxs)("p",{className:"text-gray-700",children:["Max Occupancy: ",x.maxOccupancy||"Not specified"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-lg font-semibold",children:"Beds & Blankets"}),(0,t.jsx)("ul",{className:"list-disc list-inside text-gray-700",children:(null===(s=x.bedsAndBlankets)||void 0===s?void 0:s.length)?x.bedsAndBlankets.map((e,s)=>(0,t.jsx)("li",{children:e},s)):(0,t.jsx)("li",{children:"No information available"})})]})]}),(0,t.jsxs)("div",{className:"flex gap-24",children:[(0,t.jsxs)("div",{className:"",children:[(0,t.jsx)("h4",{className:"text-lg font-semibold",children:"Safety & Security"}),(0,t.jsx)("ul",{className:"list-disc list-inside text-gray-700",children:(null===(l=x.safetyAndSecurity)||void 0===l?void 0:l.length)?x.safetyAndSecurity.map((e,s)=>(0,t.jsx)("li",{children:e},s)):(0,t.jsx)("li",{children:"No information available"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-lg font-semibold",children:"Media & Entertainment"}),(0,t.jsx)("ul",{className:"list-disc list-inside text-gray-700",children:(null===(i=x.mediaAndEntertainment)||void 0===i?void 0:i.length)?x.mediaAndEntertainment.map((e,s)=>(0,t.jsx)("li",{children:e},s)):(0,t.jsx)("li",{children:"No information available"})})]})]}),(0,t.jsxs)("div",{className:"flex gap-24",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-lg font-semibold",children:"Bathroom"}),(0,t.jsx)("ul",{className:"list-disc list-inside text-gray-700",children:(null===(r=x.bathroom)||void 0===r?void 0:r.length)?x.bathroom.map((e,s)=>(0,t.jsx)("li",{children:e},s)):(0,t.jsx)("li",{children:"No information available"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-lg font-semibold",children:"Other Facilities"}),(0,t.jsx)("ul",{className:"list-disc list-inside text-gray-700",children:(null===(o=x.otherFacilities)||void 0===o?void 0:o.length)?x.otherFacilities.map((e,s)=>(0,t.jsx)("li",{children:e},s)):(0,t.jsx)("li",{children:"No information available"})})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)("button",{className:"py-2 rounded-lg font-semibold ".concat(x.available?"bg-blue-500 text-white hover:bg-blue-600 cursor-pointer":"bg-gray-400 text-gray-600 cursor-not-allowed"),onClick:()=>{j?b(!0):router.push("/login")},disabled:!x.available,children:x.available?"Book - ₹".concat(x.price&&!isNaN(x.price)?Number(x.price).toLocaleString("en-IN")+" /-":"N/A /-"):"Room Unavailable"}),(0,t.jsx)("button",{className:"bg-transparent text-blue-500 font-semibold py-2 rounded-lg border border-blue-500",children:"Save to Wishlist"})]})]})]})})})})]}),(0,t.jsx)(h,{isVisible:f,onClose:()=>{b(!1)},onSubmit:N,roomDetails:x})]})},x=e=>{let{room:s}=e,[l,i]=(0,a.useState)(!1);return(0,t.jsxs)("div",{className:"bg-white shadow-lg rounded-md overflow-hidden flex flex-col group relative",children:[(0,t.jsx)(c.default,{src:"/images/img1.jpg",alt:s.type||"Room Image",width:500,height:400,className:"w-full h-[200px] object-cover"}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"text-xl font-semibold flex justify-between items-center",children:[s.title,(0,t.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat(s.available?"bg-green-500":"bg-red-500"," text-white"),children:s.available?"Available":"Booked"})]}),(0,t.jsx)("p",{className:"text-yellow-500 mt-2",children:s.rating?Array(s.rating).fill("★").join(""):"No rating"}),(0,t.jsxs)("div",{className:"text-sm flex flex-col gap-2 mt-2",children:[(0,t.jsxs)("div",{className:"truncate flex gap-2",children:[(0,t.jsx)("h1",{className:"font-semibold",children:"Room Number :"}),(0,t.jsx)("h1",{children:s.roomnumber||"Not available"})]}),(0,t.jsxs)("div",{className:"truncate flex gap-2",children:[(0,t.jsx)("h1",{className:"font-semibold",children:"Size :"}),(0,t.jsx)("h1",{children:s.size?"".concat(s.size," sq ft"):"Size not available"})]}),(0,t.jsxs)("div",{className:"truncate flex gap-2",children:[(0,t.jsx)("h1",{className:"font-semibold",children:"Max Occupancy :"}),(0,t.jsx)("h1",{children:s.maxOccupancy||"Not specified"})]}),(0,t.jsxs)("div",{className:"truncate flex gap-2",children:[(0,t.jsx)("h1",{className:"font-semibold",children:"Beds & Blankets :"}),(0,t.jsx)("h1",{children:s.bedsAndBlankets||"Bed And Blanket not specified"})]}),(0,t.jsxs)("div",{className:"truncate flex gap-2",children:[(0,t.jsx)("h1",{className:"font-semibold",children:"Features :"}),(0,t.jsx)("h1",{children:s.features?s.features.join(", "):"No features listed"})]}),(0,t.jsxs)("div",{className:"truncate flex gap-2",children:[(0,t.jsx)("h1",{className:"font-semibold",children:"Amenities :"}),(0,t.jsx)("h1",{children:s.amenities?s.amenities.join(", "):"No amenities listed"})]}),(0,t.jsxs)("div",{className:"truncate flex gap-2",children:[(0,t.jsx)("h1",{className:"font-semibold",children:"Safety & Security :"}),(0,t.jsx)("h1",{children:s.safetyAndSecurity?s.safetyAndSecurity.join(", "):"No safety features listed"})]})]}),(0,t.jsx)("div",{className:" w-full flex bg-blue-500 text-white rounded-md shadow-md mt-2 items-center justify-center",children:(0,t.jsx)("button",{className:"p-2 ",onClick:()=>i(!0),children:"View Room"})}),(0,t.jsx)(u,{isVisible:l,onClose:()=>i(!1),room:s})]})]})},p=()=>{let[e,s]=(0,a.useState)({deluxe:[],superDeluxe:[],family:[]}),[l,n]=(0,a.useState)({deluxe:[],superDeluxe:[],family:[]}),[c,d]=(0,a.useState)({size:{small:!1,medium:!1,large:!1},occupancy:{single:!1,double:!1,family:!1},amenities:{airConditioning:!1,wifi:!1,geyser:!1,breakfast:!1}}),[m,h]=(0,a.useState)(null),[u,p]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{(async()=>{try{p(!0);let[e,l,t]=await Promise.all([(0,i.bO)(),(0,i.sC)(),(0,i.l9)()]);s({deluxe:(null==e?void 0:e.result)||[],superDeluxe:(null==l?void 0:l.result)||[],family:(null==t?void 0:t.result)||[]}),n({deluxe:(null==e?void 0:e.result)||[],superDeluxe:(null==l?void 0:l.result)||[],family:(null==t?void 0:t.result)||[]})}catch(e){console.error(e),h("Error fetching room data.")}finally{p(!1)}})()},[]),(0,a.useEffect)(()=>{(()=>{let{size:s,occupancy:l,amenities:t}=c,a=e=>e.toLowerCase().replace(/\s|[-_]/g,""),i=e=>{let s=e.match(/(\d+)/);return s?parseInt(s[0],10):null},r=e=>e.filter(e=>{let r=!0,n={amenities:e.amenities.map(a),features:e.features.map(a),bedsAndBlankets:e.bedsAndBlankets.map(a),safetyAndSecurity:e.safetyAndSecurity.map(a),mediaAndEntertainment:e.mediaAndEntertainment.map(a),bathroom:e.bathroom.map(a),otherFacilities:e.otherFacilities.map(a)},o=i(e.size);return(s.small||s.medium||s.large)&&o&&(r=s.small&&o>=100&&o<=150||s.medium&&o>=151&&o<=200||s.large&&o>=201),r&&(l.single||l.double||l.family)&&(r=l.single&&1===e.maxOccupancy||l.double&&2===e.maxOccupancy||l.family&&e.maxOccupancy>=4),r&&Object.values(t).some(e=>e)&&(r=Object.keys(t).filter(e=>t[e]).some(e=>{let s=a(e);return n.amenities.includes(s)||n.features.includes(s)||n.bedsAndBlankets.includes(s)||n.safetyAndSecurity.includes(s)||n.mediaAndEntertainment.includes(s)||n.bathroom.includes(s)||n.otherFacilities.includes(s)})),r});n({deluxe:r(e.deluxe),superDeluxe:r(e.superDeluxe),family:r(e.family)})})()},[c,e]),u||m)?(0,t.jsxs)("div",{children:[(0,t.jsx)(o,{title:"Rooms & Suites",backgroundImage:"/images/img2.jpg"}),(0,t.jsx)("div",{className:"text-center py-10",children:u?(0,t.jsx)("p",{children:"Loading rooms..."}):(0,t.jsxs)("p",{children:["Error: ",m]})})]}):(0,t.jsxs)("div",{children:[(0,t.jsx)(o,{title:"Rooms & Suites",backgroundImage:"/images/img2.jpg"}),(0,t.jsxs)("div",{className:"flex flex-wrap p-5",children:[(0,t.jsx)("div",{className:"w-full md:w-1/6 p-4",children:(0,t.jsx)(r,{filters:c,toggleFilter:(e,s)=>{d(l=>({...l,[e]:{...l[e],[s]:!l[e][s]}}))}})}),(0,t.jsxs)("main",{className:"w-full md:w-3/4 p-6 space-y-10",children:[(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold mb-6",children:"Deluxe Rooms"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.deluxe.length>0?l.deluxe.map(e=>(0,t.jsx)(x,{room:e},e._id)):(0,t.jsx)("p",{className:"col-span-full text-center text-gray-600",children:"No Deluxe Rooms Available."})})]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold mb-6",children:"Super Deluxe Rooms"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.superDeluxe.length>0?l.superDeluxe.map(e=>(0,t.jsx)(x,{room:e},e._id)):(0,t.jsx)("p",{className:"col-span-full text-center text-gray-600",children:"No Super Deluxe Rooms Available."})})]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold mb-6",children:"Family Rooms"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.family.length>0?l.family.map(e=>(0,t.jsx)(x,{room:e},e._id)):(0,t.jsx)("p",{className:"col-span-full text-center text-gray-600",children:"No Family Rooms Available."})})]})]})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[380,396,565,53,441,517,358],()=>s(3769)),_N_E=e.O()}]);