(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[497],{3769:(e,t,s)=>{Promise.resolve().then(s.bind(s,65805))},76046:(e,t,s)=>{"use strict";var l=s(66658);s.o(l,"useRouter")&&s.d(t,{useRouter:function(){return l.useRouter}})},6793:(e,t)=>{"use strict";function s(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},71894:(e,t,s)=>{"use strict";s.d(t,{kr:()=>p,Fz:()=>m,V6:()=>g,bO:()=>n,l9:()=>c,SW:()=>x,FO:()=>r,sC:()=>i,Lx:()=>u,Xn:()=>d,DY:()=>h,rM:()=>f});var l=s(82651);let a="https://localhost:5000/api",o={GET_ROOMS:()=>a+"/rooms",GET_DELUXE_ROOMS:()=>a+"/deluxe-rooms",GET_SUPER_DELUXE_ROOMS:()=>a+"/super-deluxe-rooms",GET_FAMILY_ROOMS:()=>a+"/family-rooms",GET_DELUXE_ROOMSBYNUMBER:e=>"".concat(a,"/api/deluxe-rooms/?id=").concat(e),GET_SUPERDELUXE_ROOMSBYNUMBER:e=>a+"/super-deluxe-rooms/?id=".concat(e),GET_FAMILY_ROOMSBYNUMBER:e=>a+"/family-rooms/?id=".concat(e),GET_AMINITIES:()=>a+"/amenities",GET_ALL_BOOKING_ROOMS:()=>a+"/bookings",POST_BOOKING_ROOMS:()=>a+"/bookings",PUT_FAMILY_ROOM:()=>a+"/family-rooms/".concat(id),PUT_DELUXE_ROOM:e=>a+"/deluxe-rooms/".concat(e),PUT_SUPERDELUXE_ROOM:()=>a+"/super-deluxe-rooms/".concat(id),LOGIN_USER:()=>a+"/auth/login",REGISTER_USER:()=>a+"/auth/register",MAIL_URL:()=>"https://hotelsudarshan.com:5000/send-email",GET_ALL_ROOMS:()=>a+"/allrooms",GET_FOOTER:()=>a+"/footer",GET_AMENITIES_PAGE:()=>a+"/hotel",GET_ABOUT_US:()=>a+"/aboutus",GET_GOOGLE_Auth:()=>a+"/auth/google",GET_CALLBACK:()=>a+"/auth/google/callback"};Object.freeze(o);let r=()=>l.A.get(o.GET_ROOMS()).then(e=>(console.log("API Response:",e.data),{result:e.data})).catch(e=>(console.error("Error fetching rooms data:",e),{result:null})),n=()=>l.A.get(o.GET_DELUXE_ROOMS()).then(e=>(console.log("Deluxe Room API Response:",e.data),{result:e.data})).catch(e=>(console.error("Error fetching Deluxe Room data:",e),{result:null})),i=()=>l.A.get(o.GET_SUPER_DELUXE_ROOMS()).then(e=>(console.log("Super Deluxe Room API Response:",e.data),{result:e.data})).catch(e=>(console.error("Error fetching Super Deluxe Room data:",e),{result:null})),c=()=>l.A.get(o.GET_FAMILY_ROOMS()).then(e=>(console.log("Family Deluxe Room API Response:",e.data),{result:e.data})).catch(e=>(console.error("Error fetching Family Deluxe Room data:",e),{result:null})),d=e=>fetch(o.POST_BOOKING_ROOMS(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.ok?e.json():e.text().then(t=>{let s="Booking failed: ".concat(e.statusText,". Response body: ").concat(t);throw console.error(s),Error(s)})).then(e=>(console.log("Booking successful",e),e)).catch(e=>{throw console.error("Error during booking:",e.message),e}),m=()=>{let e=o.GET_ALL_BOOKING_ROOMS();return console.log("Requesting URL:",e),l.A.get(e).then(e=>(console.log("API Response:",e.data),{result:e.data})).catch(e=>(console.error("Error details:",{message:e.message,code:e.code,config:e.config,response:e.response}),{result:null}))},u=e=>fetch(o.LOGIN_USER(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.ok?e.json():Promise.reject("Failed to login")).then(e=>(localStorage.setItem("token",e.token),localStorage.setItem("user",JSON.stringify(e.user)),console.log("Login Successful:",e),e.user)).catch(e=>{throw console.error("Login Error:",e),e});function h(e){return fetch(o.REGISTER_USER(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>{if(!e.ok)throw Error("Failed to register user");return e.json()}).then(e=>(console.log("User registered successfully",e),e)).catch(e=>{throw console.error("Error registering user:",e),e})}let x=async()=>{try{let e=await l.A.get(o.GET_FOOTER());return console.log("getFooter API Response:",e.data),e.data}catch(e){throw console.error("Error fetching getFooter data:",e),e}},g=async()=>{try{let e=await l.A.get(o.GET_AMENITIES_PAGE());return console.log("getAmenitiesPage API Response:",e.data),e.data}catch(e){throw console.error("Error fetching getAmenitiesPage data:",e),e}},p=async()=>{try{let e=await l.A.get(o.GET_ABOUT_US());return console.log("getAboutUs API Response:",e.data),e.data}catch(e){throw console.error("Error fetching getAboutUs data:",e),e}},f=async e=>{try{let t=await fetch(o.MAIL_URL(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(console.log("Sending request to:",o.MAIL_URL()),!t.ok)throw Error("Failed to send the email. Status: ".concat(t.status));try{let e=await t.json();return console.log("Email sent successfully:",e),e}catch(e){throw console.error("Failed to parse JSON response:",e),Error("Received an invalid JSON response from the server")}}catch(e){return console.error("Error submitting form:",e),{error:e.message||"An unknown error occurred"}}}},65805:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>k});var l=s(95155),a=s(12115),o=s(71894);let r=e=>{let{filters:t,toggleFilter:s}=e,[o,r]=(0,a.useState)(!1),n=()=>r(!o);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:n,className:"fixed bottom-4 right-4 z-50 bg-blue-500 text-white rounded-full p-4 shadow-lg sm:hidden",children:(0,l.jsx)("span",{className:"material-icons",children:"filter_list"})}),(0,l.jsxs)("div",{className:" fixed top-0 right-0 h-screen w-3/2 max-w-sm bg-yellow-600 rounded-md z-0 transform ".concat(o?"translate-x-0 mt-[120px] z-50 ":"translate-x-full "," transition-transform duration-300 ease-in-out shadow-lg sm:relative sm:translate-x-0 sm:w-full sm:max-w-none"),children:[(0,l.jsxs)("div",{className:"p-4 w-64 text-gray-100",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Filter by"}),Object.keys(t).map(e=>(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h3",{className:"font-semibold text-lg capitalize",children:e}),(0,l.jsx)("ul",{className:"space-y-2 mt-2",children:Object.keys(t[e]).map(a=>(0,l.jsx)("li",{children:(0,l.jsxs)("label",{className:"flex items-center space-x-4",children:[(0,l.jsx)("input",{type:"checkbox",checked:t[e][a],onChange:()=>s(e,a),className:"form-checkbox"}),(0,l.jsx)("span",{className:"capitalize",children:a.replace(/([A-Z])/g," $1").toLowerCase()})]})},a))})]},e))]}),(0,l.jsx)("button",{onClick:n,className:"absolute top-4 right-4 text-gray-600 text-2xl sm:hidden",children:"\xd7"})]})]})};var n=s(67396);let i=e=>{let{title:t,backgroundImage:s}=e;return(0,l.jsxs)("div",{className:"relative bg-cover bg-center h-[400px] flex items-center justify-center text-center text-white",style:{backgroundImage:"url(".concat(s,")")},children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50  "}),(0,l.jsxs)("div",{className:"relative z-10 w-full max-w-5xl mx-auto p-4 mt-10",children:[(0,l.jsx)("h1",{className:"text-4xl md:text-5xl font-extrabold leading-tight",children:t}),(0,l.jsxs)("div",{className:"text-lg mt-4  mb-4 ",children:[(0,l.jsx)(n.default,{href:"/",className:"hover:underline",children:"Home /"}),(0,l.jsx)("span",{className:"text-lg mt-2 pl-2",children:(0,l.jsx)(n.default,{href:"/rooms",className:"hover:underline",children:"Rooms & Suites"})})]})]})]})};var c=s(5565),d=s(21169),m=s(76046);let u=e=>{let{paymentOption:t,setPaymentOption:s,setIsPaymentCompleted:o}=e,[r,n]=(0,a.useState)(!1),i=()=>n(!0),d=()=>n(!1);return(0,l.jsxs)("div",{className:"payment-options mt-4",children:[!t&&(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsx)("button",{onClick:()=>{s("UPI"),i()},className:"bg-yellow-500 text-white py-2 px-6 rounded-lg hover:bg-green-600",children:"Pay with UPI"}),(0,l.jsx)("button",{onClick:()=>s("Counter"),className:"bg-gray-500 text-white py-2 px-6 rounded-lg hover:bg-red-600",children:"Pay at Counter"})]}),"UPI"===t&&(0,l.jsx)("div",{className:"mt-4",children:r&&(0,l.jsx)("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-sm w-full",children:[(0,l.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Scan to Pay"}),(0,l.jsx)("div",{className:"bg-gray-300 flex items-center justify-center rounded-lg mb-4",children:(0,l.jsx)(c.default,{src:"/images/qrcode.jpg",alt:"UPI QR Code",width:200,height:200,className:"object-center"})}),(0,l.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Please scan the QR code with your UPI app to complete the payment."}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("button",{onClick:()=>{s("UPI"),o(!0),alert("Payment confirmed. Thank you!"),d()},className:"bg-green-500 text-white py-2 px-4 rounded-lg hover:bg-green-600",children:"Payment Done"}),(0,l.jsx)("button",{onClick:d,className:"bg-gray-500 text-white py-2 px-4 rounded-lg hover:bg-gray-600",children:"Close"})]})]})})}),"Counter"===t&&(0,l.jsxs)("div",{className:"mt-4 text-sm text-red-600",children:[(0,l.jsx)("p",{className:"font-bold",children:"Reminder:"}),(0,l.jsx)("p",{children:"Your room number is not confirmed."}),(0,l.jsx)("p",{children:"Please make the payment at the counter to confirm your booking."})]})]})},h=()=>(0,l.jsxs)("div",{className:"text-center p-4",children:[(0,l.jsx)("h2",{className:"text-2xl text-green-500 font-semibold",children:"Thank you for your booking request!"}),(0,l.jsx)("p",{className:"mt-4 text-gray-700",children:"We have acknowledged your booking request. Our reservation team at Hotel Sudarshan will get back to you if the requested dates and rooms are available."}),(0,l.jsxs)("p",{className:"text-sm mt-4 text-gray-700",children:["For more assistance or queries, contact us at"," ",(0,l.jsx)("a",{href:"tel:+919070755575",className:"text-blue-500",children:"+91 9070755755"})," ","or email us at"," ",(0,l.jsx)("a",{href:"mailto:contact.hotelsudarshan@gmail.com",className:"text-blue-500",children:"contact.hotelsudarshan@gmail.com"}),"."]}),(0,l.jsx)("p",{className:"text-sm mt-4 text-gray-700",children:"Please refresh the page"}),(0,l.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-6 bg-blue-500 text-white py-2 px-6 rounded-lg hover:bg-blue-600",children:"Close"})]}),x={firstName:"",lastName:"",address:"",city:"",pincode:"",phone:"",email:"",checkIn:"",checkOut:"",checkInTime:"",checkOutTime:"",numberOfAdults:"",roomId:"",price:"",title:"",available:"false"},g=[{label:"First Name",name:"firstName"},{label:"Last Name",name:"lastName"},{label:"Address",name:"address"},{label:"City",name:"city"},{label:"Pincode",name:"pincode"},{label:"Phone",name:"phone"},{label:"Email",name:"email"},{label:"Check-in Date",name:"checkIn",type:"date"},{label:"Check-out Date",name:"checkOut",type:"date"},{label:"Check-in Time",name:"checkInTime",type:"time"},{label:"Check-out Time",name:"checkOutTime",type:"time"},{label:"Number of Adults",name:"numberOfAdults"}],p=e=>{let{isVisible:t,onClose:s,roomDetails:r}=e,[n,i]=(0,a.useState)({...x,roomId:null==r?void 0:r._id,price:null==r?void 0:r.price,title:null==r?void 0:r.name,available:"false"}),[c,d]=(0,a.useState)(!1),[m,p]=(0,a.useState)({}),[f,b]=(0,a.useState)(!1),[j,y]=(0,a.useState)(null),[v,N]=(0,a.useState)(!1);(0,a.useEffect)(()=>{r&&i(e=>({...e,roomId:r._id,price:r.price,title:r.name}))},[r]);let w=e=>{let{name:t,value:s}=e.target;if(!("pincode"===t&&/[^0-9]/.test(s)||"phone"===t&&/[^0-9+]/.test(s))&&("phone"!==t||!(s.length>15))){if("phone"===t){let e=s.replace(/\+/g,"");e.length>10&&!s.startsWith("+")?p(e=>({...e,phone:"Phone number seems too long. Please include a country code."})):e.length>10&&s.startsWith("+")?p(e=>({...e,phone:""})):p(e=>({...e,phone:""}))}if("numberOfAdults"===t){if(s>50){p(e=>({...e,numberOfAdults:"Number of adults cannot exceed 50."}));return}p(e=>({...e,numberOfAdults:""}))}i(e=>({...e,[t]:s})),p(e=>({...e,[t]:""}))}},k=()=>{let e={};Object.entries(n).forEach(t=>{let[s,l]=t;l||(e[s]="This field is required.")}),n.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)&&(e.email="Please enter a valid email address."),n.phone&&n.phone.replace(/\+/g,"").length>10&&!n.phone.startsWith("+")&&(e.phone="Phone number seems too long. Please include a country code."),n.checkInTime&&!n.checkOutTime&&(e.checkOutTime="Check-out time is required when check-in time is provided."),!n.checkInTime&&n.checkOutTime&&(e.checkInTime="Check-in time is required when check-out time is provided.");let t=new Date(n.checkIn);return new Date(n.checkOut)<t&&(e.checkOut="Check-out date must be the same as or later than the check-in date."),p(e),0===Object.keys(e).length},O=e=>{let[t,s,l]=e.split("-").map(Number),a=new Date(new Date(t,s-1,l).getTime()+198e5),o=String(a.getDate()).padStart(2,"0"),r=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getFullYear()).slice(2);return"".concat(o,"/").concat(r,"/").concat(n)},S=async e=>{if(e.preventDefault(),!k()||!j){alert("Please correct the highlighted errors and select a payment option.");return}let t=v?"paid":"unpaid",{firstName:s,lastName:l,address:a,city:r,pincode:i,phone:c,email:m,checkIn:u,checkOut:h,checkInTime:x,checkOutTime:g,numberOfAdults:p,price:f,title:y}=n,N=new Date(u).toISOString().split("T")[0],w=new Date(h).toISOString().split("T")[0],S=O(N),E=O(w),R="\n      Booking Details\n     Name:".concat(s," ").concat(l,"\n      Address: ").concat(a,", ").concat(r,", ").concat(i,"\n     Phone: ").concat(c,"\n     Email: ").concat(m,"\n     Check-in Date: ").concat(S,"\n     Check-out Date: ").concat(E,"\n     Check-in Time: ").concat(x,"\n     Check-out Time:").concat(g,"\n     Number of Adults: ").concat(p,"\n     Room: ").concat(y,"\n     Price:₹").concat(f,"\n     Payment Status: ").concat(t,"\n    "),A={name:"".concat(s," ").concat(l),email:m,subject:"Booking Request for ".concat(y),message:R};try{b(!0);let e=await (0,o.rM)(A);if(e.error)throw Error("Email submission failed: ".concat(e.error));console.log("Email sent successfully:",e);let s={...n,checkIn:S,checkOut:E,payment:t},l=await (0,o.Xn)(s);if(l.success)d(!0),alert("Booking successful! Payment status: ".concat(t,". For assistance, contact us at ").concat("+91 9070755755"));else throw Error(l.message)}catch(e){console.error("Booking failed:",e),alert("Booking failed: ".concat(e.message))}finally{b(!1)}};return t?(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 w-full",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-5 w-[800px]",children:[(0,l.jsx)("div",{className:"h-48 bg-cover bg-center relative",style:{backgroundImage:"url('/images/rooms/reception.jpg')"},children:(0,l.jsx)("div",{className:"bg-black bg-opacity-50 h-full flex items-center justify-center text-white",children:(0,l.jsx)("h1",{className:"text-3xl font-bold",children:c?"Booking Request Confirmed!":"Complete Your Booking"})})}),(0,l.jsx)("div",{className:"p-6",children:c?(0,l.jsx)("div",{className:"text-center",children:(0,l.jsx)(h,{})}):(0,l.jsxs)("form",{onSubmit:S,className:"space-y-4 overflow-scroll h-[500px]",children:[g.map(e=>(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:e.label}),(0,l.jsx)("input",{type:e.type||"text",name:e.name,value:n[e.name],onChange:w,className:"w-full p-2 border rounded-lg ".concat(m[e.name]?"border-red-500":"border-gray-300"),min:"checkOut"===e.name?n.checkIn:void 0,maxLength:"phone"===e.name?20:void 0}),m[e.name]&&(0,l.jsx)("p",{className:"text-red-500 text-sm",children:m[e.name]})]},e.name)),(0,l.jsx)(u,{paymentOption:j,setPaymentOption:y,setIsPaymentCompleted:N}),(0,l.jsxs)("div",{className:"flex justify-end items-center w-full gap-2",children:[(0,l.jsx)("button",{type:"submit",disabled:f,className:" p-2 rounded-lg text-white ".concat(f?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"),children:f?"Submitting...":"Request Booking"}),(0,l.jsx)("button",{type:"button",onClick:s,className:"border bg-gray-500 py-2 px-6 rounded-lg text-white hover:bg-gray-600",children:"Cancel"})]})]})})]})}):null};var f=s(89208);let b={"Deluxe Room":["/images/rooms/deluxeroom.jpg","/images/rooms/bedroombackview.jpg","/images/rooms/bedroomfront.jpg","/images/rooms/washroomhandwash.jpeg","/images/rooms/washroom.jpeg"],"Super Deluxe Room":["/images/rooms/superdeluxeroom1.jpg","/images/rooms/superdeluxeroom.jpg","/images/rooms/superdeluxebedfront.jpg","/images/rooms/washroomhandwash.jpeg","/images/rooms/washroom.jpeg"],"Family Room":["/images/rooms/familyroom.jpg","/images/rooms/familybedroomleftview.jpg","/images/rooms/familyroomwithtv.jpg","/images/rooms/washroomhandwash.jpeg","/images/rooms/washroom.jpeg"]},j=e=>{var t,s,o,r,i;let{isVisible:u,onClose:h,room:x}=e,[g,j]=(0,a.useState)(0),[y,v]=(0,a.useState)(!1),N=(0,m.useRouter)(),w=async e=>{let t={...e,roomId:x._id,roomTitle:x.title,roomPrice:x.price};try{let e=await fetch("/api/book",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await e.json();s.success?(console.log("Booking Request Confirmed:",s),await fetch("../../../pages/api/sendMail.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userEmail:s.userEmail,bookingData:t})})):console.error("Booking failed:",s.message)}catch(e){console.error("Error during booking:",e)}};if(!u||!x)return null;let k=b[x.name]||["/images/default-room.jpg"];return(0,l.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 backdrop-blur-sm overflow-auto h-screen",role:"dialog","aria-modal":"true",children:(0,l.jsxs)("div",{className:"relative w-[95%] md:w-[90%] lg:w-[80%] bg-white rounded-lg shadow-xl overflow-hidden pb-5",children:[(0,l.jsxs)("div",{className:"relative w-full h-[200px] bg-cover bg-center flex items-center justify-center text-white",style:{backgroundImage:"url('".concat(k[g],"')")},children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50"}),(0,l.jsxs)("div",{className:"relative z-10 text-center",children:[(0,l.jsx)("h1",{className:"text-2xl md:text-3xl font-bold",children:x.name}),(0,l.jsxs)("nav",{className:"text-sm mt-2 flex justify-center gap-2 text-gray-300",children:[(0,l.jsx)(n.default,{href:"/",className:"hover:underline",children:"Home"}),(0,l.jsx)("span",{children:"/"}),(0,l.jsx)(n.default,{href:"/rooms",className:"hover:underline",children:"Rooms & Suites"})]})]}),(0,l.jsx)("button",{onClick:h,className:"absolute top-4 right-4 text-white bg-black bg-opacity-70 p-2 rounded-full hover:bg-opacity-80 transition","aria-label":"Close",children:(0,l.jsx)(d.zhF,{size:24})})]}),(0,l.jsxs)("div",{className:"flex flex-col md:flex-row gap-8 p-6 md:p-10 h-[70vh] overflow-y-auto text-black ",children:[(0,l.jsxs)("div",{className:"relative w-full md:w-1/2 bg-gray-100 rounded-lg ",children:[(0,l.jsx)(c.default,{src:k[g],alt:"Room Image ".concat(g+1),className:"object-cover w-full h-[700px]",width:500,height:500}),(0,l.jsx)("button",{onClick:()=>{j(e=>0===e?k.length-1:e-1)},className:"absolute top-1/2 left-4 -translate-y-1/2 text-white bg-black bg-opacity-50 p-3 rounded-full hover:bg-opacity-80 transition","aria-label":"Previous Image",children:(0,l.jsx)(d.qXl,{size:24})}),(0,l.jsx)("button",{onClick:()=>{j(e=>(e+1)%k.length)},className:"absolute top-1/2 right-4 -translate-y-1/2 text-white bg-black bg-opacity-50 p-3 rounded-full hover:bg-opacity-80 transition","aria-label":"Next Image",children:(0,l.jsx)(d.BJp,{size:24})})]}),(0,l.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,l.jsx)("h3",{className:"text-2xl font-semibold",children:x.name}),(0,l.jsx)("p",{className:"text-md text-gray-600",children:x.description||"No description available."}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("p",{className:"text-lg font-semibold text-blue-500",children:["Price: ",x.price?"₹ ".concat(x.price)+" /-":"N/A /-"]}),(0,l.jsx)("p",{className:"text-yellow-500 mt-2",children:x.rating?(0,l.jsxs)(l.Fragment,{children:[Array(Math.floor(x.rating)).fill("★").join(""),x.rating%1>=.5?"★":""]}):"No rating"})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex gap-8 w-full",children:[(0,l.jsxs)("div",{className:"",children:[(0,l.jsx)("h4",{className:"text-lg font-semibold",children:"Room Size & Occupancy"}),(0,l.jsxs)("p",{className:"text-gray-700",children:["Size: ",x.size||"Not specified"]}),(0,l.jsxs)("p",{className:"text-gray-700",children:["Max Occupancy: ",x.maxOccupancy||"Not specified"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-lg font-semibold",children:"Beds & Blankets"}),(0,l.jsx)("ul",{className:"list-disc list-inside text-gray-700",children:(null===(t=x.bedsAndBlankets)||void 0===t?void 0:t.length)?x.bedsAndBlankets.map((e,t)=>(0,l.jsx)("li",{children:e},t)):(0,l.jsx)("li",{children:"No information available"})})]})]}),(0,l.jsxs)("div",{className:"flex gap-24",children:[(0,l.jsxs)("div",{className:"",children:[(0,l.jsx)("h4",{className:"text-lg font-semibold",children:"Safety & Security"}),(0,l.jsx)("ul",{className:"list-disc list-inside text-gray-700",children:(null===(s=x.safetyAndSecurity)||void 0===s?void 0:s.length)?x.safetyAndSecurity.map((e,t)=>(0,l.jsx)("li",{children:e},t)):(0,l.jsx)("li",{children:"No information available"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-lg font-semibold",children:"Media & Entertainment"}),(0,l.jsx)("ul",{className:"list-disc list-inside text-gray-700",children:(null===(o=x.mediaAndEntertainment)||void 0===o?void 0:o.length)?x.mediaAndEntertainment.map((e,t)=>(0,l.jsx)("li",{children:e},t)):(0,l.jsx)("li",{children:"No information available"})})]})]}),(0,l.jsxs)("div",{className:"flex gap-24",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-lg font-semibold",children:"Bathroom"}),(0,l.jsx)("ul",{className:"list-disc list-inside text-gray-700",children:(null===(r=x.bathroom)||void 0===r?void 0:r.length)?x.bathroom.map((e,t)=>(0,l.jsx)("li",{children:e},t)):(0,l.jsx)("li",{children:"No information available"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-lg font-semibold",children:"Other Facilities"}),(0,l.jsx)("ul",{className:"list-disc list-inside text-gray-700",children:(null===(i=x.otherFacilities)||void 0===i?void 0:i.length)?x.otherFacilities.map((e,t)=>(0,l.jsx)("li",{children:e},t)):(0,l.jsx)("li",{children:"No information available"})})]})]})]}),(0,l.jsx)("div",{className:"flex flex-col gap-2",children:(0,l.jsx)("button",{className:"py-2 rounded-lg font-semibold ".concat(x.available?"bg-yellow-600 text-white hover:bg-yellow-700 cursor-pointer":"bg-gray-400 text-gray-600 cursor-not-allowed"),onClick:()=>{let e=f.A.get("userFullName"),t=f.A.get("userEmail");e&&t?v(!0):N.push("/login")},disabled:!x.available,children:x.available?"Book Now - ₹ ".concat(x.price&&!isNaN(x.price)?Number(x.price).toLocaleString("en-IN")+" /-":"N/A /-"):"Room Unavailable"})})]})]}),(0,l.jsx)(p,{isVisible:y,onClose:()=>{v(!1)},onSubmit:w,roomDetails:x})]})})},y=e=>{let{label:t,value:s,fallback:a="Not specified"}=e;return(0,l.jsxs)("div",{className:"flex gap-2 items-start ",children:[(0,l.jsxs)("span",{className:"font-semibold min-w-[130px]",children:[t,":"]}),(0,l.jsx)("span",{className:"text-gray-700",children:s||a})]})},v=e=>{var t,s,r;let{room:n}=e,[i,d]=(0,a.useState)(!1),[m,u]=(0,a.useState)({isBooked:!1,checkIn:null,checkOut:null}),[h,x]=(0,a.useState)(!0),g=e=>{let[t,s,l]=e.split("/");return new Date("20".concat(l,"-").concat(s,"-").concat(t))},p=(e,t,s)=>{let l=g(e),a=g(t),o=new Date(s);return l.setHours(0,0,0,0),a.setHours(0,0,0,0),o.setHours(0,0,0,0),o>=l&&o<=a};return(0,a.useEffect)(()=>{(async()=>{try{let{result:e}=await (0,o.Fz)();if(null==e?void 0:e.bookings){let t=new Date,s=e.bookings.find(e=>e.roomId===n._id&&"false"===e.available&&p(e.checkIn,e.checkOut,t));s?u({isBooked:!0,checkIn:s.checkIn,checkOut:s.checkOut}):u({isBooked:!1,checkIn:null,checkOut:null})}}catch(e){console.error("Error fetching booking data:",e)}finally{x(!1)}})()},[n._id]),(0,l.jsxs)("div",{className:"bg-white shadow-lg rounded-md overflow-hidden flex flex-col group relative w-full",children:[(0,l.jsx)("div",{className:"absolute flex w-full items-center justify-end p-4",children:(0,l.jsx)("p",{className:"text-white bg-yellow-600 rounded-lg text-sm w-24 items-center justify-center flex p-1",children:n.price?"₹".concat(n.price," /-"):"N/A /-"})}),(0,l.jsx)(c.default,{src:n.image||"/images/rooms/deluxeroom.jpg",alt:n.name||"Room Image",width:500,height:400,className:"w-full h-[200px] object-cover"}),(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsxs)("div",{className:"text-xl font-semibold flex justify-between items-start",children:[(0,l.jsx)("span",{className:"text-gray-800",children:n.name}),h?null:m.isBooked?(0,l.jsxs)("div",{className:"flex gap-2 items-center justify-center",children:[(0,l.jsx)("span",{className:"text-xs text-gray-600",children:"".concat(m.checkIn," - ").concat(m.checkOut)}),(0,l.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-red-500 text-white mb-1",children:"Booked"})]}):(0,l.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-green-500 text-white",children:"Available"})]}),(0,l.jsx)("div",{className:"flex items-center mt-2",children:(0,l.jsx)("span",{className:"text-yellow-500",children:n.rating?(0,l.jsxs)(l.Fragment,{children:[Array(Math.floor(n.rating)).fill("★").join(""),n.rating%1>=.5?"★":""]}):"No rating"})}),(0,l.jsxs)("div",{className:"text-sm flex flex-col gap-2 mt-4 text-black",children:[(0,l.jsx)(y,{label:"Room Number",value:n.roomnumber}),(0,l.jsx)(y,{label:"Size",value:n.size?"".concat(n.size):null}),(0,l.jsx)(y,{label:"Max Occupancy",value:n.maxOccupancy}),(0,l.jsx)(y,{label:"Beds & Blankets",value:Array.isArray(n.bedsAndBlankets)?n.bedsAndBlankets.join(", "):n.bedsAndBlankets}),(0,l.jsx)(y,{label:"Features",value:null===(t=n.features)||void 0===t?void 0:t.join(", "),fallback:"No features listed"}),(0,l.jsx)(y,{label:"Amenities",value:null===(s=n.amenities)||void 0===s?void 0:s.join(", "),fallback:"No amenities listed"}),(0,l.jsx)(y,{label:"Safety & Security",value:null===(r=n.safetyAndSecurity)||void 0===r?void 0:r.join(", "),fallback:"No safety features listed"})]}),(0,l.jsx)("button",{onClick:()=>d(!0),className:"w-full mt-4 py-2 px-4 rounded-md shadow-md transition-colors duration-200 ".concat(m.isBooked?"bg-gray-400 cursor-not-allowed":"bg-yellow-600 hover:bg-yellow-700"," text-white font-medium"),disabled:m.isBooked,children:m.isBooked?"Booked":"View Room"}),(0,l.jsx)(j,{isVisible:i,onClose:()=>d(!1),room:n})]})]})};var N=s(6793),w=s.n(N);let k=()=>{let[e,t]=(0,a.useState)({deluxe:[],superDeluxe:[],family:[]}),[s,n]=(0,a.useState)({deluxe:[],superDeluxe:[],family:[]}),[c,d]=(0,a.useState)({size:{small:!1,medium:!1,large:!1},occupancy:{single:!1,double:!1,family:!1},amenities:{airConditioning:!1,wifi:!1,"Geyser/Water Heater":!1,"Coffee table":!1}}),[m,u]=(0,a.useState)(null),[h,x]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{(async()=>{try{x(!0);let[e,s,l]=await Promise.all([(0,o.bO)(),(0,o.sC)(),(0,o.l9)()]);console.log("Deluxe Rooms:",null==e?void 0:e.result),console.log("Super Deluxe Rooms:",null==s?void 0:s.result),console.log("Family Rooms:",null==l?void 0:l.result),t({deluxe:(null==e?void 0:e.result)||[],superDeluxe:(null==s?void 0:s.result)||[],family:(null==l?void 0:l.result)||[]}),n({deluxe:(null==e?void 0:e.result)||[],superDeluxe:(null==s?void 0:s.result)||[],family:(null==l?void 0:l.result)||[]})}catch(e){console.error(e),u("Error fetching room data.")}finally{x(!1)}})()},[]),(0,a.useEffect)(()=>{(()=>{let{size:t,occupancy:s,amenities:l}=c,a=e=>e.toLowerCase().replace(/\s|[-_]/g,""),o=e=>{let t=e.match(/(\d+)/);return t?parseInt(t[0],10):null},r=e=>e.filter(e=>{let r=!0,n={amenities:e.amenities.map(a),features:e.features.map(a),bedsAndBlankets:e.bedsAndBlankets.map(a),safetyAndSecurity:e.safetyAndSecurity.map(a),mediaAndEntertainment:e.mediaAndEntertainment.map(a),bathroom:e.bathroom.map(a),otherFacilities:e.otherFacilities.map(a)},i=o(e.size);return(t.small||t.medium||t.large)&&i&&(r=t.small&&i>=100&&i<=150||t.medium&&i>=151&&i<=200||t.large&&i>=201),r&&(s.single||s.double||s.family)&&(r=s.single&&1===e.maxOccupancy||s.double&&2===e.maxOccupancy||s.family&&e.maxOccupancy>=4),r&&Object.values(l).some(e=>e)&&(r=Object.keys(l).filter(e=>l[e]).some(e=>{let t=a(e);return n.amenities.includes(t)||n.features.includes(t)||n.bedsAndBlankets.includes(t)||n.safetyAndSecurity.includes(t)||n.mediaAndEntertainment.includes(t)||n.bathroom.includes(t)||n.otherFacilities.includes(t)})),r});n({deluxe:r(e.deluxe),superDeluxe:r(e.superDeluxe),family:r(e.family)})})()},[c,e]),h||m)?(0,l.jsxs)("div",{children:[(0,l.jsx)(i,{title:"Rooms & Suites",backgroundImage:"/images/img2.jpg"}),(0,l.jsx)("div",{className:"text-center py-10",children:h?(0,l.jsx)("p",{children:"Loading rooms..."}):(0,l.jsxs)("p",{children:["Error: ",m]})})]}):(0,l.jsxs)("div",{className:"w-full flex flex-col items-center justify-center bg-gray-100",children:[(0,l.jsxs)(w(),{children:[(0,l.jsx)("title",{children:"Rooms & Suites - Hotel Booking"}),(0,l.jsx)("meta",{name:"description",content:"Explore our Deluxe, Super Deluxe, and Family Rooms for your next stay. Find the perfect room with various amenities and options."}),(0,l.jsx)("meta",{name:"keywords",content:"hotel rooms, deluxe rooms, super deluxe rooms, family rooms, hotel booking, accommodation"}),(0,l.jsx)("meta",{property:"og:title",content:"Rooms & Suites - Hotel Booking"}),(0,l.jsx)("meta",{property:"og:description",content:"Explore our Deluxe, Super Deluxe, and Family Rooms for your next stay."}),(0,l.jsx)("meta",{property:"og:image",content:"/images/img2.jpg"}),(0,l.jsx)("meta",{property:"og:url",content:"https://www.hotelsudarshan.com/rooms"}),(0,l.jsx)("meta",{name:"twitter:title",content:"Rooms & Suites - Hotel Booking"}),(0,l.jsx)("meta",{name:"twitter:description",content:"Explore our Deluxe, Super Deluxe, and Family Rooms for your next stay."}),(0,l.jsx)("meta",{name:"twitter:image",content:"/images/img2.jpg"})]}),(0,l.jsx)("div",{className:"w-full relative",children:(0,l.jsx)(i,{className:"w-full",title:"Rooms & Suites",backgroundImage:"/images/img2.jpg"})}),(0,l.jsxs)("div",{className:"flex w-full p-5",children:[(0,l.jsx)("div",{className:"  ",children:(0,l.jsx)(r,{filters:c,toggleFilter:(e,t)=>{d(s=>({...s,[e]:{...s[e],[t]:!s[e][t]}}))}})}),(0,l.jsx)("div",{className:"flex w-full flex-col",children:(0,l.jsxs)("main",{className:"w-full  p-4 h-screen overflow-scroll ",children:[(0,l.jsxs)("section",{children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold mb-6",children:"Deluxe Rooms"}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.deluxe.length>0?s.deluxe.map(e=>(0,l.jsx)(v,{room:e},e._id)):(0,l.jsx)("p",{className:"col-span-full text-center text-gray-600",children:"No Deluxe Rooms Available."})})]}),(0,l.jsxs)("section",{children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold mb-6 mt-6",children:"Super Deluxe Rooms"}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.superDeluxe.length>0?s.superDeluxe.map(e=>(0,l.jsx)(v,{room:e},e._id)):(0,l.jsx)("p",{className:"col-span-full text-center text-gray-600",children:"No Super Deluxe Rooms Available."})})]}),(0,l.jsxs)("section",{children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold mb-6 mt-6",children:"Family Rooms"}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.family.length>0?s.family.map(e=>(0,l.jsx)(v,{room:e},e._id)):(0,l.jsx)("p",{className:"col-span-full text-center text-gray-600",children:"No Family Rooms Available."})})]})]})})]})]})}},89208:(e,t,s)=>{"use strict";function l(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var l in s)e[l]=s[l]}return e}s.d(t,{A:()=>a});var a=function e(t,s){function a(e,a,o){if("undefined"!=typeof document){"number"==typeof(o=l({},s,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var r="";for(var n in o)o[n]&&(r+="; "+n,!0!==o[n]&&(r+="="+o[n].split(";")[0]));return document.cookie=e+"="+t.write(a,e)+r}}return Object.create({set:a,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var s=document.cookie?document.cookie.split("; "):[],l={},a=0;a<s.length;a++){var o=s[a].split("="),r=o.slice(1).join("=");try{var n=decodeURIComponent(o[0]);if(l[n]=t.read(r,n),e===n)break}catch(e){}}return e?l[e]:l}},remove:function(e,t){a(e,"",l({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,l({},this.attributes,t))},withConverter:function(t){return e(l({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(s)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})},93435:(e,t,s)=>{"use strict";s.d(t,{k5:()=>d});var l=s(12115),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=l.createContext&&l.createContext(a),r=["attr","size","title"];function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l])}return e}).apply(this,arguments)}function i(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,l)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?i(Object(s),!0).forEach(function(t){var l,a;l=t,a=s[t],(l=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var l=s.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(l))in e?Object.defineProperty(e,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[l]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):i(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function d(e){return t=>l.createElement(m,n({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,s)=>l.createElement(t.tag,c({key:s},t.attr),e(t.child)))}(e.child))}function m(e){var t=t=>{var s,{attr:a,size:o,title:i}=e,d=function(e,t){if(null==e)return{};var s,l,a=function(e,t){if(null==e)return{};var s={};for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){if(t.indexOf(l)>=0)continue;s[l]=e[l]}return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(l=0;l<o.length;l++)s=o[l],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}(e,r),m=o||t.size||"1em";return t.className&&(s=t.className),e.className&&(s=(s?s+" ":"")+e.className),l.createElement("svg",n({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,d,{className:s,style:c(c({color:e.color||t.color},t.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),i&&l.createElement("title",null,i),e.children)};return void 0!==o?l.createElement(o.Consumer,null,e=>t(e)):t(a)}}},e=>{var t=t=>e(e.s=t);e.O(0,[380,552,396,565,441,517,358],()=>t(3769)),_N_E=e.O()}]);