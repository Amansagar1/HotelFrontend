(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[497],{3769:(e,t,s)=>{Promise.resolve().then(s.bind(s,3041))},8368:(e,t,s)=>{"use strict";s.d(t,{Ay:()=>n});let l={_origin:"https://api.emailjs.com"},a=(e,t,s)=>{if(!e)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class i{constructor(e){this.status=e.status,this.text=e.responseText}}let o=(e,t,s={})=>new Promise((a,o)=>{let r=new XMLHttpRequest;r.addEventListener("load",({target:e})=>{let t=new i(e);200===t.status||"OK"===t.text?a(t):o(t)}),r.addEventListener("error",({target:e})=>{o(new i(e))}),r.open("POST",l._origin+e,!0),Object.keys(s).forEach(e=>{r.setRequestHeader(e,s[e])}),r.send(t)}),r=e=>{let t;if(!(t="string"==typeof e?document.querySelector(e):e)||"FORM"!==t.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t},n={init:(e,t="https://api.emailjs.com")=>{l._userID=e,l._origin=t},send:(e,t,s,i)=>{let r=i||l._userID;return a(r,e,t),o("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:r,service_id:e,template_id:t,template_params:s}),{"Content-type":"application/json"})},sendForm:(e,t,s,i)=>{let n=i||l._userID,c=r(s);a(n,e,t);let d=new FormData(c);return d.append("lib_version","3.2.0"),d.append("service_id",e),d.append("template_id",t),d.append("user_id",n),o("/api/v1.0/email/send-form",d)}}},6046:(e,t,s)=>{"use strict";var l=s(6658);s.o(l,"useRouter")&&s.d(t,{useRouter:function(){return l.useRouter}})},1894:(e,t,s)=>{"use strict";s.d(t,{oK:()=>u,Fz:()=>h,Em:()=>m,bO:()=>r,l9:()=>c,FO:()=>o,sC:()=>n,Lx:()=>x,Xn:()=>d,DY:()=>g});var l=s(2651);let a="http://localhost:5000/api",i={GET_ROOMS:()=>a+"/rooms",GET_DELUXE_ROOMS:()=>a+"/deluxe-rooms",GET_SUPER_DELUXE_ROOMS:()=>a+"/super-deluxe-rooms",GET_FAMILY_ROOMS:()=>a+"/family-rooms",GET_DELUXE_ROOMSBYNUMBER:e=>"".concat(a,"/api/deluxe-rooms/?id=").concat(e),GET_SUPERDELUXE_ROOMSBYNUMBER:e=>a+"/super-deluxe-rooms/?id=".concat(e),GET_FAMILY_ROOMSBYNUMBER:e=>a+"/family-rooms/?id=".concat(e),GET_AMINITIES:()=>a+"/amenities",GET_ALL_BOOKING_ROOMS:()=>a+"/bookings",POST_BOOKING_ROOMS:()=>a+"/bookings",PUT_FAMILY_ROOM:()=>a+"/family-rooms/".concat(id),PUT_DELUXE_ROOM:e=>a+"/deluxe-rooms/".concat(e),PUT_SUPERDELUXE_ROOM:()=>a+"/super-deluxe-rooms/".concat(id),LOGIN_USER:()=>a+"/auth/login",REGISTER_USER:()=>a+"/auth/register",MAIL_URL:()=>a+"/email/send-booking-emails"};Object.freeze(i);let o=()=>l.A.get(i.GET_ROOMS()).then(e=>(console.log("API Response:",e.data),{result:e.data})).catch(e=>(console.error("Error fetching rooms data:",e),{result:null})),r=()=>l.A.get(i.GET_DELUXE_ROOMS()).then(e=>(console.log("Deluxe Room API Response:",e.data),{result:e.data})).catch(e=>(console.error("Error fetching Deluxe Room data:",e),{result:null})),n=()=>l.A.get(i.GET_SUPER_DELUXE_ROOMS()).then(e=>(console.log("Super Deluxe Room API Response:",e.data),{result:e.data})).catch(e=>(console.error("Error fetching Super Deluxe Room data:",e),{result:null})),c=()=>l.A.get(i.GET_FAMILY_ROOMS()).then(e=>(console.log("Family Deluxe Room API Response:",e.data),{result:e.data})).catch(e=>(console.error("Error fetching Family Deluxe Room data:",e),{result:null})),d=e=>fetch(i.POST_BOOKING_ROOMS(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.ok?e.json():e.text().then(t=>{throw Error("Booking failed: ".concat(e.statusText,". Response body: ").concat(t))})).then(e=>(console.log("Booking successful",e),e)).catch(e=>{throw console.error("Error during booking:",e.message),e});async function m(){try{let e=await fetch(i.GET_AMINITIES(),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));return await e.json()}catch(e){throw console.error("Error fetching amenities:",e),e}}async function u(e,t){try{let s={...t,available:!1},a=await l.A.put(i.PUT_DELUXE_ROOM(e),s);return console.log("Updated Room Data:",a.data),a.data}catch(e){throw console.error("Error updating deluxe room:",e),e}}let h=()=>{let e=i.GET_ALL_BOOKING_ROOMS();return console.log("Requesting URL:",e),l.A.get(e).then(e=>(console.log("API Response:",e.data),{result:e.data})).catch(e=>(console.error("Error details:",{message:e.message,code:e.code,config:e.config,response:e.response}),{result:null}))},x=e=>fetch(i.LOGIN_USER(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.ok?e.json():Promise.reject("Failed to login")).then(e=>(localStorage.setItem("token",e.token),localStorage.setItem("user",JSON.stringify(e.user)),console.log("Login Successful:",e),e.user)).catch(e=>{throw console.error("Login Error:",e),e});function g(e){return fetch(i.REGISTER_USER(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>{if(!e.ok)throw Error("Failed to register user");return e.json()}).then(e=>(console.log("User registered successfully",e),e)).catch(e=>{throw console.error("Error registering user:",e),e})}},3041:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var l=s(5155),a=s(2115),i=s(1894);let o=e=>{let{filters:t,toggleFilter:s}=e,[i,o]=(0,a.useState)(!1),r=()=>o(!i);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:r,className:"fixed bottom-4 right-4 z-50 bg-blue-500 text-white rounded-full p-4 shadow-lg sm:hidden",children:(0,l.jsx)("span",{className:"material-icons",children:"filter_list"})}),(0,l.jsxs)("div",{className:" fixed top-0 right-0 h-screen w-3/4 max-w-sm bg-gray-100 z-40 transform ".concat(i?"translate-x-0 mt-[130px] ":"translate-x-full "," transition-transform duration-300 ease-in-out shadow-lg sm:relative sm:translate-x-0 sm:w-full sm:max-w-none"),children:[(0,l.jsxs)("div",{className:"p-4 w-64 ",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Filter by"}),Object.keys(t).map(e=>(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h3",{className:"font-semibold text-lg capitalize",children:e}),(0,l.jsx)("ul",{className:"space-y-2 mt-2",children:Object.keys(t[e]).map(a=>(0,l.jsx)("li",{children:(0,l.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,l.jsx)("input",{type:"checkbox",checked:t[e][a],onChange:()=>s(e,a),className:"form-checkbox"}),(0,l.jsx)("span",{className:"capitalize",children:a.replace(/([A-Z])/g," $1").toLowerCase()})]})},a))})]},e))]}),(0,l.jsx)("button",{onClick:r,className:"absolute top-4  right-4 text-gray-600 text-2xl sm:hidden  ",children:"\xd7"})]})]})};var r=s(7396);let n=e=>{let{title:t,backgroundImage:s}=e;return(0,l.jsxs)("div",{className:"relative bg-cover bg-center h-[400px] flex items-center justify-center text-center text-white",style:{backgroundImage:"url(".concat(s,")")},children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50"}),(0,l.jsxs)("div",{className:"relative z-10 w-full max-w-5xl mx-auto p-4",children:[(0,l.jsx)("h1",{className:"text-4xl md:text-5xl font-extrabold leading-tight",children:t}),(0,l.jsxs)("div",{className:"text-lg mt-4  ",children:[(0,l.jsx)(r.default,{href:"/",className:"hover:underline",children:"Home /"}),(0,l.jsx)("span",{className:"text-lg mt-2 pl-2",children:(0,l.jsx)(r.default,{href:"/rooms",className:"hover:underline",children:"Rooms & Suites"})})]})]})]})};var c=s(5565),d=s(1169),m=s(6046),u=s(8368),h=s(2818);let x=e=>{let{isVisible:t,onClose:s,roomDetails:o}=e,[r,n]=(0,a.useState)({firstName:"",lastName:"",address:"",city:"",pincode:"",phone:"",email:"",checkIn:"",checkOut:"",checkInTime:"",checkOutTime:"",roomPreference:"",numberOfAdults:"",roomId:null==o?void 0:o._id,price:null==o?void 0:o.price,title:null==o?void 0:o.name,available:"false"}),[c,d]=(0,a.useState)(!1),[m,x]=(0,a.useState)({}),[g,p]=(0,a.useState)(!1);(0,a.useEffect)(()=>{console.log("Room Details:",o)},[o]);let f=e=>{let{name:t,value:s}=e.target;n(e=>({...e,[t]:s})),x(e=>({...e,[t]:""}))},b=()=>{let e={};return Object.keys(r).forEach(t=>{r[t]||"roomPreference"===t||(e[t]="This field is required.",console.log('Field "'.concat(t,'" is empty.')))}),r.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)&&(e.email="Please enter a valid email address.",console.log('Invalid email address: "'.concat(r.email,'"'))),r.phone&&!/^[0-9]{10}$/.test(r.phone)&&(e.phone="Phone number must be 10 digits.",console.log('Invalid phone number: "'.concat(r.phone,'"'))),r.checkInTime>=r.checkOutTime&&(e.checkOutTime="Check-out time must be later than check-in time.",console.log('Check-in time "'.concat(r.checkInTime,'" is not earlier than check-out time "').concat(r.checkOutTime,'".'))),x(e),console.log("Validation Errors:",e),0===Object.keys(e).length},j=async e=>{let t={to_name:"".concat(e.firstName," ").concat(e.lastName),to_email:e.email,room_title:e.title,check_in:"".concat(e.checkIn," at ").concat(e.checkInTime),check_out:"".concat(e.checkOut," at ").concat(e.checkOutTime),price:e.price},s={to_name:"Hotel Management",to_email:"hotelsudarshan01@gmail.com",user_name:"".concat(e.firstName," ").concat(e.lastName),user_email:e.email,phone:e.phone,room_title:e.title,check_in:"".concat(e.checkIn," at ").concat(e.checkInTime),check_out:"".concat(e.checkOut," at ").concat(e.checkOutTime),price:e.price};try{await u.Ay.send("service_ap02rab",h.env.NEXT_PUBLIC_EMAILJS_TEMPLATE_ID1,t,"e8oLmeL97LLcEGZ_X"),console.log("Email sent to user successfully."),await u.Ay.send("service_ap02rab","template_2ys919i",s,"e8oLmeL97LLcEGZ_X"),console.log("Email sent to admin successfully.")}catch(e){console.error("Error sending emails:",e)}},y=async e=>{if(e.preventDefault(),console.log("Submitting Form Data:",r),!b()){alert("Please correct the highlighted errors.");return}p(!0);try{let e=await (0,i.Xn)(r);console.log("API Response:",e),e.success?(await (0,i.oK)(r.roomId,{...o,available:!1}),d(!0),alert("Booking successful!"),await j(r)):alert("Booking failed: ".concat(e.message))}catch(e){console.error("Error during booking:",e),alert("An error occurred while processing your booking. Please try again.")}finally{p(!1)}};return t?(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 w-full",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-5 w-[800px]",children:[(0,l.jsx)("div",{className:"h-48 bg-cover bg-center relative",style:{backgroundImage:"url('/images/img4.jpg')"},children:(0,l.jsx)("div",{className:"bg-black bg-opacity-50 h-full flex items-center justify-center text-white",children:(0,l.jsx)("h1",{className:"text-3xl font-bold",children:c?"Booking Confirmed!":"Complete Your Booking"})})}),(0,l.jsx)("div",{className:"p-6",children:c?(0,l.jsxs)("div",{className:"text-center p-4",children:[(0,l.jsx)("h2",{className:"text-2xl text-green-500 font-semibold",children:"Thank you for choosing us!"}),(0,l.jsx)("p",{className:"mt-4 text-gray-700",children:"Your booking was successful. We look forward to your stay!"}),(0,l.jsx)("button",{onClick:s,className:"mt-6 bg-blue-500 text-white py-2 px-6 rounded-lg hover:bg-blue-600",children:"Close"})]}):(0,l.jsxs)("form",{onSubmit:y,className:"space-y-4 overflow-scroll h-[500px]",children:[[{label:"First Name",name:"firstName"},{label:"Last Name",name:"lastName"},{label:"Address",name:"address"},{label:"City",name:"city"},{label:"Pincode",name:"pincode"},{label:"Phone",name:"phone"},{label:"Email",name:"email"},{label:"Check-in Date",name:"checkIn",type:"date"},{label:"Check-out Date",name:"checkOut",type:"date"},{label:"Check-in Time",name:"checkInTime",type:"time"},{label:"Check-out Time",name:"checkOutTime",type:"time"},{label:"Number of Adults",name:"numberOfAdults"}].map((e,t)=>(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:e.label}),(0,l.jsx)("input",{type:e.type||"text",name:e.name,value:r[e.name],onChange:f,className:"w-full p-2 border rounded-lg ".concat(m[e.name]?"border-red-500":"border-gray-300")}),m[e.name]&&(0,l.jsx)("p",{className:"text-red-500 text-sm",children:m[e.name]})]},t)),(0,l.jsxs)("div",{className:"flex justify-end gap-4 mt-6",children:[(0,l.jsx)("button",{type:"submit",disabled:g,className:"bg-blue-500 text-white font-medium py-2 px-6 rounded-lg ".concat(g?"opacity-50 cursor-not-allowed":"hover:bg-blue-600"),children:g?"Submitting...":"Confirm Booking"}),(0,l.jsx)("button",{type:"button",onClick:s,className:"border border-red-500 text-red-500 font-medium py-2 px-6 rounded-lg hover:bg-red-100",children:"Cancel"})]})]})})]})}):null};var g=s(9208);let p=e=>{var t,s,i,o,n;let{isVisible:u,onClose:h,room:p}=e,[f,b]=(0,a.useState)(0),[j,y]=(0,a.useState)(!1),N=(0,m.useRouter)(),v=async e=>{let t={...e,roomId:p._id,roomTitle:p.title,roomPrice:p.price};try{let e=await fetch("/api/book",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await e.json();s.success?(console.log("Booking confirmed:",s),await fetch("../../../pages/api/sendMail.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userEmail:s.userEmail,bookingData:t})})):console.error("Booking failed:",s.message)}catch(e){console.error("Error during booking:",e)}};if(!u||!p)return null;let k=["/images/img1.jpg","/images/img2.jpg","/images/img3.jpg"];return(0,l.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 backdrop-blur-sm overflow-auto",role:"dialog","aria-modal":"true",children:(0,l.jsxs)("div",{className:"relative w-[95%] md:w-[90%] lg:w-[80%] bg-white rounded-lg shadow-xl overflow-hidden",children:[(0,l.jsxs)("div",{className:"relative w-full h-[200px]  bg-cover bg-center flex items-center justify-center text-white",style:{backgroundImage:"url('".concat(k[f],"')")},children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50"}),(0,l.jsxs)("div",{className:"relative z-10 text-center",children:[(0,l.jsx)("h1",{className:"text-2xl md:text-3xl font-bold",children:p.name}),(0,l.jsxs)("nav",{className:"text-sm mt-2 flex justify-center gap-2 text-gray-300",children:[(0,l.jsx)(r.default,{href:"/",className:"hover:underline",children:"Home"}),(0,l.jsx)("span",{children:"/"}),(0,l.jsx)(r.default,{href:"/rooms",className:"hover:underline",children:"Rooms & Suites"})]})]}),(0,l.jsx)("button",{onClick:h,className:"absolute top-4 right-4 text-white bg-black bg-opacity-70 p-2 rounded-full hover:bg-opacity-80 transition","aria-label":"Close",children:(0,l.jsx)(d.zhF,{size:24})})]}),(0,l.jsxs)("div",{className:"flex flex-col md:flex-row gap-8 p-6 md:p-10 h-[70vh] overflow-y-auto",children:[(0,l.jsxs)("div",{className:"relative w-full md:w-1/2 bg-gray-100 rounded-lg ",children:[(0,l.jsx)(c.default,{src:k[f],alt:"Room Image ".concat(f+1),className:"object-cover w-full h-full",width:500,height:500}),(0,l.jsx)("button",{onClick:()=>{b(e=>0===e?k.length-1:e-1)},className:"absolute top-1/2 left-4 -translate-y-1/2 text-white bg-black bg-opacity-50 p-3 rounded-full hover:bg-opacity-80 transition","aria-label":"Previous Image",children:(0,l.jsx)(d.qXl,{size:24})}),(0,l.jsx)("button",{onClick:()=>{b(e=>(e+1)%k.length)},className:"absolute top-1/2 right-4 -translate-y-1/2 text-white bg-black bg-opacity-50 p-3 rounded-full hover:bg-opacity-80 transition","aria-label":"Next Image",children:(0,l.jsx)(d.BJp,{size:24})})]}),(0,l.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,l.jsx)("h3",{className:"text-2xl font-semibold",children:p.name}),(0,l.jsx)("p",{className:"text-md text-gray-600",children:p.description||"No description available."}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("p",{className:"text-lg font-semibold text-blue-500",children:["Price: ",p.price?"₹ ".concat(p.price)+" /-":"N/A /-"]}),(0,l.jsxs)("p",{className:"text-yellow-500 font-bold",children:["Rating: ",p.rating||"No rating"," ⭐"]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex gap-8 w-full",children:[(0,l.jsxs)("div",{className:"",children:[(0,l.jsx)("h4",{className:"text-lg font-semibold",children:"Room Size & Occupancy"}),(0,l.jsxs)("p",{className:"text-gray-700",children:["Size: ",p.size||"Not specified"]}),(0,l.jsxs)("p",{className:"text-gray-700",children:["Max Occupancy: ",p.maxOccupancy||"Not specified"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-lg font-semibold",children:"Beds & Blankets"}),(0,l.jsx)("ul",{className:"list-disc list-inside text-gray-700",children:(null===(t=p.bedsAndBlankets)||void 0===t?void 0:t.length)?p.bedsAndBlankets.map((e,t)=>(0,l.jsx)("li",{children:e},t)):(0,l.jsx)("li",{children:"No information available"})})]})]}),(0,l.jsxs)("div",{className:"flex gap-24",children:[(0,l.jsxs)("div",{className:"",children:[(0,l.jsx)("h4",{className:"text-lg font-semibold",children:"Safety & Security"}),(0,l.jsx)("ul",{className:"list-disc list-inside text-gray-700",children:(null===(s=p.safetyAndSecurity)||void 0===s?void 0:s.length)?p.safetyAndSecurity.map((e,t)=>(0,l.jsx)("li",{children:e},t)):(0,l.jsx)("li",{children:"No information available"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-lg font-semibold",children:"Media & Entertainment"}),(0,l.jsx)("ul",{className:"list-disc list-inside text-gray-700",children:(null===(i=p.mediaAndEntertainment)||void 0===i?void 0:i.length)?p.mediaAndEntertainment.map((e,t)=>(0,l.jsx)("li",{children:e},t)):(0,l.jsx)("li",{children:"No information available"})})]})]}),(0,l.jsxs)("div",{className:"flex gap-24",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-lg font-semibold",children:"Bathroom"}),(0,l.jsx)("ul",{className:"list-disc list-inside text-gray-700",children:(null===(o=p.bathroom)||void 0===o?void 0:o.length)?p.bathroom.map((e,t)=>(0,l.jsx)("li",{children:e},t)):(0,l.jsx)("li",{children:"No information available"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-lg font-semibold",children:"Other Facilities"}),(0,l.jsx)("ul",{className:"list-disc list-inside text-gray-700",children:(null===(n=p.otherFacilities)||void 0===n?void 0:n.length)?p.otherFacilities.map((e,t)=>(0,l.jsx)("li",{children:e},t)):(0,l.jsx)("li",{children:"No information available"})})]})]})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)("button",{className:"py-2 rounded-lg font-semibold ".concat(p.available?"bg-blue-500 text-white hover:bg-blue-600 cursor-pointer":"bg-gray-400 text-gray-600 cursor-not-allowed"),onClick:()=>{let e=g.A.get("userFullName"),t=g.A.get("userEmail");e&&t?y(!0):N.push("/login")},disabled:!p.available,children:p.available?"Book Now - ₹ ".concat(p.price&&!isNaN(p.price)?Number(p.price).toLocaleString("en-IN")+" /-":"N/A /-"):"Room Unavailable"}),(0,l.jsx)("button",{className:"bg-transparent text-blue-500 font-semibold py-2  mb-4 rounded-lg border border-blue-500",children:"Save to Wishlist"})]})]})]}),(0,l.jsx)(x,{isVisible:j,onClose:()=>{y(!1)},onSubmit:v,roomDetails:p})]})})},f=e=>{let{room:t}=e,[s,o]=(0,a.useState)(!1),[r,n]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{(0,i.Fz)().then(e=>{let{result:s}=e;s&&s.bookings?n(!!s.bookings.find(e=>e.roomId===t._id&&"false"===e.available)):console.error("Failed to fetch booking data.")})},[t._id]),(0,l.jsxs)("div",{className:"bg-white shadow-lg rounded-md overflow-hidden flex flex-col group relative w-full",children:[(0,l.jsx)("div",{className:"absolute flex w-full items-center justify-end p-4",children:(0,l.jsx)("p",{className:"text-white bg-yellow-600 rounded-lg text-sm w-20 items-center justify-center flex p-1",children:t.price?"₹".concat(t.price," /-"):"N/A /-"})}),(0,l.jsx)(c.default,{src:"/images/img1.jpg",alt:t.name||"Room Image",width:500,height:400,className:"w-full h-[200px] object-cover"}),(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsxs)("div",{className:"text-xl font-semibold flex justify-between items-center",children:[t.name,(0,l.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat(r?"bg-red-500":"bg-green-500"," text-white"),children:r?"Booked":"Available"})]}),(0,l.jsx)("p",{className:"text-yellow-500 mt-2",children:t.rating?Array(t.rating).fill("★").join(""):"No rating"}),(0,l.jsxs)("div",{className:"text-sm flex flex-col gap-2 mt-2",children:[(0,l.jsxs)("div",{className:"truncate flex gap-2",children:[(0,l.jsx)("h1",{className:"font-semibold",children:"Room Number :"}),(0,l.jsx)("h1",{children:t.roomnumber||"Not available"})]}),(0,l.jsxs)("div",{className:"truncate flex gap-2",children:[(0,l.jsx)("h1",{className:"font-semibold",children:"Size :"}),(0,l.jsx)("h1",{children:t.size?"".concat(t.size," sq ft"):"Size not available"})]}),(0,l.jsxs)("div",{className:"truncate flex gap-2",children:[(0,l.jsx)("h1",{className:"font-semibold",children:"Max Occupancy :"}),(0,l.jsx)("h1",{children:t.maxOccupancy||"Not specified"})]}),(0,l.jsxs)("div",{className:"truncate flex gap-2",children:[(0,l.jsx)("h1",{className:"font-semibold",children:"Beds & Blankets :"}),(0,l.jsx)("h1",{children:t.bedsAndBlankets||"Bed And Blanket not specified"})]}),(0,l.jsxs)("div",{className:"truncate flex gap-2",children:[(0,l.jsx)("h1",{className:"font-semibold",children:"Features :"}),(0,l.jsx)("h1",{children:t.features?t.features.join(", "):"No features listed"})]}),(0,l.jsxs)("div",{className:"truncate flex gap-2",children:[(0,l.jsx)("h1",{className:"font-semibold",children:"Amenities :"}),(0,l.jsx)("h1",{children:t.amenities?t.amenities.join(", "):"No amenities listed"})]}),(0,l.jsxs)("div",{className:"truncate flex gap-2",children:[(0,l.jsx)("h1",{className:"font-semibold",children:"Safety & Security :"}),(0,l.jsx)("h1",{children:t.safetyAndSecurity?t.safetyAndSecurity.join(", "):"No safety features listed"})]})]}),(0,l.jsx)("button",{onClick:()=>o(!0),className:"p-2 w-full flex ".concat(r?"bg-gray-400":"bg-blue-500"," text-white rounded-md shadow-md mt-2 items-center justify-center"),disabled:r,children:r?"Booked":"View Room"}),(0,l.jsx)(p,{isVisible:s,onClose:()=>o(!1),room:t})]})]})},b=()=>{let[e,t]=(0,a.useState)({deluxe:[],superDeluxe:[],family:[]}),[s,r]=(0,a.useState)({deluxe:[],superDeluxe:[],family:[]}),[c,d]=(0,a.useState)({size:{small:!1,medium:!1,large:!1},occupancy:{single:!1,double:!1,family:!1},amenities:{airConditioning:!1,wifi:!1,geyser:!1,breakfast:!1}}),[m,u]=(0,a.useState)(null),[h,x]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{(async()=>{try{x(!0);let[e,s,l]=await Promise.all([(0,i.bO)(),(0,i.sC)(),(0,i.l9)()]);t({deluxe:(null==e?void 0:e.result)||[],superDeluxe:(null==s?void 0:s.result)||[],family:(null==l?void 0:l.result)||[]}),r({deluxe:(null==e?void 0:e.result)||[],superDeluxe:(null==s?void 0:s.result)||[],family:(null==l?void 0:l.result)||[]})}catch(e){console.error(e),u("Error fetching room data.")}finally{x(!1)}})()},[]),(0,a.useEffect)(()=>{(()=>{let{size:t,occupancy:s,amenities:l}=c,a=e=>e.toLowerCase().replace(/\s|[-_]/g,""),i=e=>{let t=e.match(/(\d+)/);return t?parseInt(t[0],10):null},o=e=>e.filter(e=>{let o=!0,r={amenities:e.amenities.map(a),features:e.features.map(a),bedsAndBlankets:e.bedsAndBlankets.map(a),safetyAndSecurity:e.safetyAndSecurity.map(a),mediaAndEntertainment:e.mediaAndEntertainment.map(a),bathroom:e.bathroom.map(a),otherFacilities:e.otherFacilities.map(a)},n=i(e.size);return(t.small||t.medium||t.large)&&n&&(o=t.small&&n>=100&&n<=150||t.medium&&n>=151&&n<=200||t.large&&n>=201),o&&(s.single||s.double||s.family)&&(o=s.single&&1===e.maxOccupancy||s.double&&2===e.maxOccupancy||s.family&&e.maxOccupancy>=4),o&&Object.values(l).some(e=>e)&&(o=Object.keys(l).filter(e=>l[e]).some(e=>{let t=a(e);return r.amenities.includes(t)||r.features.includes(t)||r.bedsAndBlankets.includes(t)||r.safetyAndSecurity.includes(t)||r.mediaAndEntertainment.includes(t)||r.bathroom.includes(t)||r.otherFacilities.includes(t)})),o});r({deluxe:o(e.deluxe),superDeluxe:o(e.superDeluxe),family:o(e.family)})})()},[c,e]),h||m)?(0,l.jsxs)("div",{children:[(0,l.jsx)(n,{title:"Rooms & Suites",backgroundImage:"/images/img2.jpg"}),(0,l.jsx)("div",{className:"text-center py-10",children:h?(0,l.jsx)("p",{children:"Loading rooms..."}):(0,l.jsxs)("p",{children:["Error: ",m]})})]}):(0,l.jsxs)("div",{className:"w-full ",children:[(0,l.jsx)(n,{title:"Rooms & Suites",backgroundImage:"/images/img2.jpg"}),(0,l.jsxs)("div",{className:"flex  p-5",children:[(0,l.jsx)("div",{className:"  ",children:(0,l.jsx)(o,{filters:c,toggleFilter:(e,t)=>{d(s=>({...s,[e]:{...s[e],[t]:!s[e][t]}}))}})}),(0,l.jsxs)("main",{className:"w-full  p-4 h-screen overflow-scroll ",children:[(0,l.jsxs)("section",{children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold mb-6",children:"Deluxe Rooms"}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.deluxe.length>0?s.deluxe.map(e=>(0,l.jsx)(f,{room:e},e._id)):(0,l.jsx)("p",{className:"col-span-full text-center text-gray-600",children:"No Deluxe Rooms Available."})})]}),(0,l.jsxs)("section",{children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold mb-6 mt-6",children:"Super Deluxe Rooms"}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.superDeluxe.length>0?s.superDeluxe.map(e=>(0,l.jsx)(f,{room:e},e._id)):(0,l.jsx)("p",{className:"col-span-full text-center text-gray-600",children:"No Super Deluxe Rooms Available."})})]}),(0,l.jsxs)("section",{children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold mb-6 mt-6",children:"Family Rooms"}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.family.length>0?s.family.map(e=>(0,l.jsx)(f,{room:e},e._id)):(0,l.jsx)("p",{className:"col-span-full text-center text-gray-600",children:"No Family Rooms Available."})})]})]})]})]})}},9208:(e,t,s)=>{"use strict";function l(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var l in s)e[l]=s[l]}return e}s.d(t,{A:()=>a});var a=function e(t,s){function a(e,a,i){if("undefined"!=typeof document){"number"==typeof(i=l({},s,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var r in i)i[r]&&(o+="; "+r,!0!==i[r]&&(o+="="+i[r].split(";")[0]));return document.cookie=e+"="+t.write(a,e)+o}}return Object.create({set:a,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var s=document.cookie?document.cookie.split("; "):[],l={},a=0;a<s.length;a++){var i=s[a].split("="),o=i.slice(1).join("=");try{var r=decodeURIComponent(i[0]);if(l[r]=t.read(o,r),e===r)break}catch(e){}}return e?l[e]:l}},remove:function(e,t){a(e,"",l({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,l({},this.attributes,t))},withConverter:function(t){return e(l({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(s)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},e=>{var t=t=>e(e.s=t);e.O(0,[380,396,565,53,441,517,358],()=>t(3769)),_N_E=e.O()}]);