(()=>{var e={};e.id=497,e.ids=[497],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},2412:e=>{"use strict";e.exports=require("assert")},4735:e=>{"use strict";e.exports=require("events")},9021:e=>{"use strict";e.exports=require("fs")},1630:e=>{"use strict";e.exports=require("http")},5591:e=>{"use strict";e.exports=require("https")},1820:e=>{"use strict";e.exports=require("os")},3873:e=>{"use strict";e.exports=require("path")},7910:e=>{"use strict";e.exports=require("stream")},3997:e=>{"use strict";e.exports=require("tty")},9551:e=>{"use strict";e.exports=require("url")},8354:e=>{"use strict";e.exports=require("util")},4075:e=>{"use strict";e.exports=require("zlib")},7338:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c});var l=s(260),a=s(8203),r=s(5155),i=s.n(r),o=s(7292),n={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);s.d(t,n);let c=["",{children:["rooms",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5580)),"D:\\private work\\HotelFrontend\\src\\app\\rooms\\page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,1354)),"D:\\private work\\HotelFrontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9937,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["D:\\private work\\HotelFrontend\\src\\app\\rooms\\page.js"],m={require:s,loadChunk:()=>Promise.resolve()},u=new l.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/rooms/page",pathname:"/rooms",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4279:(e,t,s)=>{Promise.resolve().then(s.bind(s,5580))},4543:(e,t,s)=>{Promise.resolve().then(s.bind(s,4747))},9334:(e,t,s)=>{"use strict";var l=s(8686);s.o(l,"useRouter")&&s.d(t,{useRouter:function(){return l.useRouter}})},6095:(e,t)=>{"use strict";function s(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4747:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>O});var l=s(5512),a=s(8009),r=s(4635);let i=({filters:e,toggleFilter:t})=>{let[s,r]=(0,a.useState)(!1),i=()=>r(!s);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:i,className:"fixed bottom-4 right-4 z-50 bg-blue-500 text-white rounded-full p-4 shadow-lg sm:hidden",children:(0,l.jsx)("span",{className:"material-icons",children:"filter_list"})}),(0,l.jsxs)("div",{className:` fixed top-0 right-0 h-screen w-3/2 max-w-sm bg-yellow-600 rounded-md z-0 transform ${s?"translate-x-0 mt-[120px] z-50 ":"translate-x-full "} transition-transform duration-300 ease-in-out shadow-lg sm:relative sm:translate-x-0 sm:w-full sm:max-w-none`,children:[(0,l.jsxs)("div",{className:"p-4 w-64 text-gray-100",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Filter by"}),Object.keys(e).map(s=>(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h3",{className:"font-semibold text-lg capitalize",children:s}),(0,l.jsx)("ul",{className:"space-y-2 mt-2",children:Object.keys(e[s]).map(a=>(0,l.jsx)("li",{children:(0,l.jsxs)("label",{className:"flex items-center space-x-4",children:[(0,l.jsx)("input",{type:"checkbox",checked:e[s][a],onChange:()=>t(s,a),className:"form-checkbox"}),(0,l.jsx)("span",{className:"capitalize",children:a.replace(/([A-Z])/g," $1").toLowerCase()})]})},a))})]},s))]}),(0,l.jsx)("button",{onClick:i,className:"absolute top-4 right-4 text-gray-600 text-2xl sm:hidden",children:"\xd7"})]})]})};var o=s(6008);let n=({title:e,backgroundImage:t})=>(0,l.jsxs)("div",{className:"relative bg-cover bg-center h-[400px] flex items-center justify-center text-center text-white",style:{backgroundImage:`url(${t})`},children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50  "}),(0,l.jsxs)("div",{className:"relative z-10 w-full max-w-5xl mx-auto p-4 mt-10",children:[(0,l.jsx)("h1",{className:"text-4xl md:text-5xl font-extrabold leading-tight",children:e}),(0,l.jsxs)("div",{className:"text-lg mt-4  mb-4 ",children:[(0,l.jsx)(o.default,{href:"/",className:"hover:underline",children:"Home /"}),(0,l.jsx)("span",{className:"text-lg mt-2 pl-2",children:(0,l.jsx)(o.default,{href:"/rooms",className:"hover:underline",children:"Rooms & Suites"})})]})]})]});var c=s(5103),d=s(3904);function m(e){return(0,d.k5)({tag:"svg",attr:{viewBox:"0 0 1024 1024",fill:"currentColor",fillRule:"evenodd"},child:[{tag:"path",attr:{d:"M799.855 166.312c.023.007.043.018.084.059l57.69 57.69c.041.041.052.06.059.084a.118.118 0 0 1 0 .069c-.007.023-.018.042-.059.083L569.926 512l287.703 287.703c.041.04.052.06.059.083a.118.118 0 0 1 0 .07c-.007.022-.018.042-.059.083l-57.69 57.69c-.041.041-.06.052-.084.059a.118.118 0 0 1-.069 0c-.023-.007-.042-.018-.083-.059L512 569.926 224.297 857.629c-.04.041-.06.052-.083.059a.118.118 0 0 1-.07 0c-.022-.007-.042-.018-.083-.059l-57.69-57.69c-.041-.041-.052-.06-.059-.084a.118.118 0 0 1 0-.069c.007-.023.018-.042.059-.083L454.073 512 166.371 224.297c-.041-.04-.052-.06-.059-.083a.118.118 0 0 1 0-.07c.007-.022.018-.042.059-.083l57.69-57.69c.041-.041.06-.052.084-.059a.118.118 0 0 1 .069 0c.023.007.042.018.083.059L512 454.073l287.703-287.702c.04-.041.06-.052.083-.059a.118.118 0 0 1 .07 0Z"},child:[]}]})(e)}function u(e){return(0,d.k5)({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"},child:[]}]})(e)}function x(e){return(0,d.k5)({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"},child:[]}]})(e)}var h=s(9334);let p=({paymentOption:e,setPaymentOption:t,setIsPaymentCompleted:s})=>{let[r,i]=(0,a.useState)(!1),o=()=>i(!0),n=()=>i(!1);return(0,l.jsxs)("div",{className:"payment-options mt-4",children:[!e&&(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsx)("button",{onClick:()=>{t("UPI"),o()},className:"bg-yellow-500 text-white py-2 px-6 rounded-lg hover:bg-green-600",children:"Pay with UPI"}),(0,l.jsx)("button",{onClick:()=>t("Counter"),className:"bg-gray-500 text-white py-2 px-6 rounded-lg hover:bg-red-600",children:"Pay at Counter"})]}),"UPI"===e&&(0,l.jsx)("div",{className:"mt-4",children:r&&(0,l.jsx)("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-sm w-full",children:[(0,l.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Scan to Pay"}),(0,l.jsx)("div",{className:"bg-gray-300 flex items-center justify-center rounded-lg mb-4",children:(0,l.jsx)(c.default,{src:"/images/qrcode.jpg",alt:"UPI QR Code",width:200,height:200,className:"object-center"})}),(0,l.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Please scan the QR code with your UPI app to complete the payment."}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("button",{onClick:()=>{t("UPI"),s(!0),alert("Payment confirmed. Thank you!"),n()},className:"bg-green-500 text-white py-2 px-4 rounded-lg hover:bg-green-600",children:"Payment Done"}),(0,l.jsx)("button",{onClick:n,className:"bg-gray-500 text-white py-2 px-4 rounded-lg hover:bg-gray-600",children:"Close"})]})]})})}),"Counter"===e&&(0,l.jsxs)("div",{className:"mt-4 text-sm text-red-600",children:[(0,l.jsx)("p",{className:"font-bold",children:"Reminder:"}),(0,l.jsx)("p",{children:"Your room number is not confirmed."}),(0,l.jsx)("p",{children:"Please make the payment at the counter to confirm your booking."})]})]})},g=()=>(0,l.jsxs)("div",{className:"text-center p-4",children:[(0,l.jsx)("h2",{className:"text-2xl text-green-500 font-semibold",children:"Thank you for your booking request!"}),(0,l.jsx)("p",{className:"mt-4 text-gray-700",children:"We have acknowledged your booking request. Our reservation team at Hotel Sudarshan will get back to you if the requested dates and rooms are available."}),(0,l.jsxs)("p",{className:"text-sm mt-4 text-gray-700",children:["For more assistance or queries, contact us at"," ",(0,l.jsx)("a",{href:"tel:+919070755575",className:"text-blue-500",children:"+91 9070755755"})," ","or email us at"," ",(0,l.jsx)("a",{href:"mailto:contact.hotelsudarshan@gmail.com",className:"text-blue-500",children:"contact.hotelsudarshan@gmail.com"}),"."]}),(0,l.jsx)("p",{className:"text-sm mt-4 text-gray-700",children:"Please refresh the page"}),(0,l.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-6 bg-blue-500 text-white py-2 px-6 rounded-lg hover:bg-blue-600",children:"Close"})]}),f={firstName:"",lastName:"",address:"",city:"",pincode:"",phone:"",email:"",checkIn:"",checkOut:"",checkInTime:"",checkOutTime:"",numberOfAdults:"",roomId:"",price:"",title:"",available:"false"},b=[{label:"First Name",name:"firstName"},{label:"Last Name",name:"lastName"},{label:"Address",name:"address"},{label:"City",name:"city"},{label:"Pincode",name:"pincode"},{label:"Phone",name:"phone"},{label:"Email",name:"email"},{label:"Check-in Date",name:"checkIn",type:"date"},{label:"Check-out Date",name:"checkOut",type:"date"},{label:"Check-in Time",name:"checkInTime",type:"time"},{label:"Check-out Time",name:"checkOutTime",type:"time"},{label:"Number of Adults",name:"numberOfAdults"}],j=({isVisible:e,onClose:t,roomDetails:s})=>{let[i,o]=(0,a.useState)({...f,roomId:s?._id,price:s?.price,title:s?.name,available:"false"}),[n,c]=(0,a.useState)(!1),[d,m]=(0,a.useState)({}),[u,x]=(0,a.useState)(!1),[h,j]=(0,a.useState)(null),[y,v]=(0,a.useState)(!1);(0,a.useEffect)(()=>{s&&o(e=>({...e,roomId:s._id,price:s.price,title:s.name}))},[s]);let N=e=>{let{name:t,value:s}=e.target;if(!("pincode"===t&&/[^0-9]/.test(s)||"phone"===t&&/[^0-9+]/.test(s))&&("phone"!==t||!(s.length>15))){if("phone"===t){let e=s.replace(/\+/g,"");e.length>10&&!s.startsWith("+")?m(e=>({...e,phone:"Phone number seems too long. Please include a country code."})):e.length>10&&s.startsWith("+")?m(e=>({...e,phone:""})):m(e=>({...e,phone:""}))}if("numberOfAdults"===t){if(s>50){m(e=>({...e,numberOfAdults:"Number of adults cannot exceed 50."}));return}m(e=>({...e,numberOfAdults:""}))}o(e=>({...e,[t]:s})),m(e=>({...e,[t]:""}))}},w=()=>{let e={};Object.entries(i).forEach(([t,s])=>{s||(e[t]="This field is required.")}),i.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)&&(e.email="Please enter a valid email address."),i.phone&&i.phone.replace(/\+/g,"").length>10&&!i.phone.startsWith("+")&&(e.phone="Phone number seems too long. Please include a country code."),i.checkInTime&&!i.checkOutTime&&(e.checkOutTime="Check-out time is required when check-in time is provided."),!i.checkInTime&&i.checkOutTime&&(e.checkInTime="Check-in time is required when check-out time is provided.");let t=new Date(i.checkIn);return new Date(i.checkOut)<t&&(e.checkOut="Check-out date must be the same as or later than the check-in date."),m(e),0===Object.keys(e).length},k=e=>{let[t,s,l]=e.split("-").map(Number),a=new Date(new Date(t,s-1,l).getTime()+198e5),r=String(a.getDate()).padStart(2,"0"),i=String(a.getMonth()+1).padStart(2,"0"),o=String(a.getFullYear()).slice(2);return`${r}/${i}/${o}`},S=async e=>{if(e.preventDefault(),!w()||!h){alert("Please correct the highlighted errors and select a payment option.");return}let t=y?"paid":"unpaid",{firstName:s,lastName:l,address:a,city:o,pincode:n,phone:d,email:m,checkIn:u,checkOut:p,checkInTime:g,checkOutTime:f,numberOfAdults:b,price:j,title:v}=i,N=new Date(u).toISOString().split("T")[0],S=new Date(p).toISOString().split("T")[0],C=k(N),O=k(S),P=`
      Booking Details
     Name:${s} ${l}
      Address: ${a}, ${o}, ${n}
     Phone: ${d}
     Email: ${m}
     Check-in Date: ${C}
     Check-out Date: ${O}
     Check-in Time: ${g}
     Check-out Time:${f}
     Number of Adults: ${b}
     Room: ${v}
     Price:₹${j}
     Payment Status: ${t}
    `,A={name:`${s} ${l}`,email:m,subject:`Booking Request for ${v}`,message:P};try{x(!0);let e=await (0,r.rM)(A);if(e.error)throw Error(`Email submission failed: ${e.error}`);console.log("Email sent successfully:",e);let s={...i,checkIn:C,checkOut:O,payment:t},l=await (0,r.Xn)(s);if(l.success)c(!0),alert(`Booking successful! Payment status: ${t}. For assistance, contact us at +91 9070755755`);else throw Error(l.message)}catch(e){console.error("Booking failed:",e),alert(`Booking failed: ${e.message}`)}finally{x(!1)}};return e?(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 w-full",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-5 w-[800px]",children:[(0,l.jsx)("div",{className:"h-48 bg-cover bg-center relative",style:{backgroundImage:"url('/images/rooms/reception.jpg')"},children:(0,l.jsx)("div",{className:"bg-black bg-opacity-50 h-full flex items-center justify-center text-white",children:(0,l.jsx)("h1",{className:"text-3xl font-bold",children:n?"Booking Request Confirmed!":"Complete Your Booking"})})}),(0,l.jsx)("div",{className:"p-6",children:n?(0,l.jsx)("div",{className:"text-center",children:(0,l.jsx)(g,{})}):(0,l.jsxs)("form",{onSubmit:S,className:"space-y-4 overflow-scroll h-[500px]",children:[b.map(e=>(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:e.label}),(0,l.jsx)("input",{type:e.type||"text",name:e.name,value:i[e.name],onChange:N,className:`w-full p-2 border rounded-lg ${d[e.name]?"border-red-500":"border-gray-300"}`,min:"checkOut"===e.name?i.checkIn:void 0,maxLength:"phone"===e.name?20:void 0}),d[e.name]&&(0,l.jsx)("p",{className:"text-red-500 text-sm",children:d[e.name]})]},e.name)),(0,l.jsx)(p,{paymentOption:h,setPaymentOption:j,setIsPaymentCompleted:v}),(0,l.jsxs)("div",{className:"flex justify-end items-center w-full gap-2",children:[(0,l.jsx)("button",{type:"submit",disabled:u,className:` p-2 rounded-lg text-white ${u?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"}`,children:u?"Submitting...":"Request Booking"}),(0,l.jsx)("button",{type:"button",onClick:t,className:"border bg-gray-500 py-2 px-6 rounded-lg text-white hover:bg-gray-600",children:"Cancel"})]})]})})]})}):null};var y=s(5998);let v={"Deluxe Room":["/images/rooms/deluxeroom.jpg","/images/rooms/bedroombackview.jpg","/images/rooms/bedroomfront.jpg","/images/rooms/washroomhandwash.jpeg","/images/rooms/washroom.jpeg"],"Super Deluxe Room":["/images/rooms/superdeluxeroom1.jpg","/images/rooms/superdeluxeroom.jpg","/images/rooms/superdeluxebedfront.jpg","/images/rooms/washroomhandwash.jpeg","/images/rooms/washroom.jpeg"],"Family Room":["/images/rooms/familyroom.jpg","/images/rooms/familybedroomleftview.jpg","/images/rooms/familyroomwithtv.jpg","/images/rooms/washroomhandwash.jpeg","/images/rooms/washroom.jpeg"]},N=({isVisible:e,onClose:t,room:s})=>{let[r,i]=(0,a.useState)(0),[n,d]=(0,a.useState)(!1),p=(0,h.useRouter)(),g=async e=>{let t={...e,roomId:s._id,roomTitle:s.title,roomPrice:s.price};try{let e=await fetch("/api/book",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await e.json();s.success?(console.log("Booking Request Confirmed:",s),await fetch("../../../pages/api/sendMail.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userEmail:s.userEmail,bookingData:t})})):console.error("Booking failed:",s.message)}catch(e){console.error("Error during booking:",e)}};if(!e||!s)return null;let f=v[s.name]||["/images/default-room.jpg"];return(0,l.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 backdrop-blur-sm overflow-auto h-screen",role:"dialog","aria-modal":"true",children:(0,l.jsxs)("div",{className:"relative w-[95%] md:w-[90%] lg:w-[80%] bg-white rounded-lg shadow-xl overflow-hidden pb-5",children:[(0,l.jsxs)("div",{className:"relative w-full h-[200px] bg-cover bg-center flex items-center justify-center text-white",style:{backgroundImage:`url('${f[r]}')`},children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50"}),(0,l.jsxs)("div",{className:"relative z-10 text-center",children:[(0,l.jsx)("h1",{className:"text-2xl md:text-3xl font-bold",children:s.name}),(0,l.jsxs)("nav",{className:"text-sm mt-2 flex justify-center gap-2 text-gray-300",children:[(0,l.jsx)(o.default,{href:"/",className:"hover:underline",children:"Home"}),(0,l.jsx)("span",{children:"/"}),(0,l.jsx)(o.default,{href:"/rooms",className:"hover:underline",children:"Rooms & Suites"})]})]}),(0,l.jsx)("button",{onClick:t,className:"absolute top-4 right-4 text-white bg-black bg-opacity-70 p-2 rounded-full hover:bg-opacity-80 transition","aria-label":"Close",children:(0,l.jsx)(m,{size:24})})]}),(0,l.jsxs)("div",{className:"flex flex-col md:flex-row gap-8 p-6 md:p-10 h-[70vh] overflow-y-auto ",children:[(0,l.jsxs)("div",{className:"relative w-full md:w-1/2 bg-gray-100 rounded-lg ",children:[(0,l.jsx)(c.default,{src:f[r],alt:`Room Image ${r+1}`,className:"object-cover w-full h-[700px]",width:500,height:500}),(0,l.jsx)("button",{onClick:()=>{i(e=>0===e?f.length-1:e-1)},className:"absolute top-1/2 left-4 -translate-y-1/2 text-white bg-black bg-opacity-50 p-3 rounded-full hover:bg-opacity-80 transition","aria-label":"Previous Image",children:(0,l.jsx)(u,{size:24})}),(0,l.jsx)("button",{onClick:()=>{i(e=>(e+1)%f.length)},className:"absolute top-1/2 right-4 -translate-y-1/2 text-white bg-black bg-opacity-50 p-3 rounded-full hover:bg-opacity-80 transition","aria-label":"Next Image",children:(0,l.jsx)(x,{size:24})})]}),(0,l.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,l.jsx)("h3",{className:"text-2xl font-semibold",children:s.name}),(0,l.jsx)("p",{className:"text-md text-gray-600",children:s.description||"No description available."}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("p",{className:"text-lg font-semibold text-blue-500",children:["Price: ",s.price?`₹ ${s.price} /-`:"N/A /-"]}),(0,l.jsx)("p",{className:"text-yellow-500 mt-2",children:s.rating?(0,l.jsxs)(l.Fragment,{children:[Array(Math.floor(s.rating)).fill("★").join(""),s.rating%1>=.5?"★":""]}):"No rating"})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex gap-8 w-full",children:[(0,l.jsxs)("div",{className:"",children:[(0,l.jsx)("h4",{className:"text-lg font-semibold",children:"Room Size & Occupancy"}),(0,l.jsxs)("p",{className:"text-gray-700",children:["Size: ",s.size||"Not specified"]}),(0,l.jsxs)("p",{className:"text-gray-700",children:["Max Occupancy: ",s.maxOccupancy||"Not specified"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-lg font-semibold",children:"Beds & Blankets"}),(0,l.jsx)("ul",{className:"list-disc list-inside text-gray-700",children:s.bedsAndBlankets?.length?s.bedsAndBlankets.map((e,t)=>(0,l.jsx)("li",{children:e},t)):(0,l.jsx)("li",{children:"No information available"})})]})]}),(0,l.jsxs)("div",{className:"flex gap-24",children:[(0,l.jsxs)("div",{className:"",children:[(0,l.jsx)("h4",{className:"text-lg font-semibold",children:"Safety & Security"}),(0,l.jsx)("ul",{className:"list-disc list-inside text-gray-700",children:s.safetyAndSecurity?.length?s.safetyAndSecurity.map((e,t)=>(0,l.jsx)("li",{children:e},t)):(0,l.jsx)("li",{children:"No information available"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-lg font-semibold",children:"Media & Entertainment"}),(0,l.jsx)("ul",{className:"list-disc list-inside text-gray-700",children:s.mediaAndEntertainment?.length?s.mediaAndEntertainment.map((e,t)=>(0,l.jsx)("li",{children:e},t)):(0,l.jsx)("li",{children:"No information available"})})]})]}),(0,l.jsxs)("div",{className:"flex gap-24",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-lg font-semibold",children:"Bathroom"}),(0,l.jsx)("ul",{className:"list-disc list-inside text-gray-700",children:s.bathroom?.length?s.bathroom.map((e,t)=>(0,l.jsx)("li",{children:e},t)):(0,l.jsx)("li",{children:"No information available"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-lg font-semibold",children:"Other Facilities"}),(0,l.jsx)("ul",{className:"list-disc list-inside text-gray-700",children:s.otherFacilities?.length?s.otherFacilities.map((e,t)=>(0,l.jsx)("li",{children:e},t)):(0,l.jsx)("li",{children:"No information available"})})]})]})]}),(0,l.jsx)("div",{className:"flex flex-col gap-2",children:(0,l.jsx)("button",{className:`py-2 rounded-lg font-semibold ${s.available?"bg-yellow-600 text-white hover:bg-yellow-700 cursor-pointer":"bg-gray-400 text-gray-600 cursor-not-allowed"}`,onClick:()=>{let e=y.A.get("userFullName"),t=y.A.get("userEmail");e&&t?d(!0):p.push("/login")},disabled:!s.available,children:s.available?`Book Now - ₹ ${s.price&&!isNaN(s.price)?Number(s.price).toLocaleString("en-IN")+" /-":"N/A /-"}`:"Room Unavailable"})})]})]}),(0,l.jsx)(j,{isVisible:n,onClose:()=>{d(!1)},onSubmit:g,roomDetails:s})]})})},w=({label:e,value:t,fallback:s="Not specified"})=>(0,l.jsxs)("div",{className:"flex gap-2 items-start",children:[(0,l.jsxs)("span",{className:"font-semibold min-w-[130px]",children:[e,":"]}),(0,l.jsx)("span",{className:"text-gray-700",children:t||s})]}),k=({room:e})=>{let[t,s]=(0,a.useState)(!1),[i,o]=(0,a.useState)({isBooked:!1,checkIn:null,checkOut:null}),[n,d]=(0,a.useState)(!0),m=e=>{let[t,s,l]=e.split("/");return new Date(`20${l}-${s}-${t}`)},u=(e,t,s)=>{let l=m(e),a=m(t),r=new Date(s);return l.setHours(0,0,0,0),a.setHours(0,0,0,0),r.setHours(0,0,0,0),r>=l&&r<=a};return(0,a.useEffect)(()=>{(async()=>{try{let{result:t}=await (0,r.Fz)();if(t?.bookings){let s=new Date,l=t.bookings.find(t=>t.roomId===e._id&&"false"===t.available&&u(t.checkIn,t.checkOut,s));l?o({isBooked:!0,checkIn:l.checkIn,checkOut:l.checkOut}):o({isBooked:!1,checkIn:null,checkOut:null})}}catch(e){console.error("Error fetching booking data:",e)}finally{d(!1)}})()},[e._id]),(0,l.jsxs)("div",{className:"bg-white shadow-lg rounded-md overflow-hidden flex flex-col group relative w-full",children:[(0,l.jsx)("div",{className:"absolute flex w-full items-center justify-end p-4",children:(0,l.jsx)("p",{className:"text-white bg-yellow-600 rounded-lg text-sm w-24 items-center justify-center flex p-1",children:e.price?`₹${e.price} /-`:"N/A /-"})}),(0,l.jsx)(c.default,{src:e.image||"/images/rooms/deluxeroom.jpg",alt:e.name||"Room Image",width:500,height:400,className:"w-full h-[200px] object-cover"}),(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsxs)("div",{className:"text-xl font-semibold flex justify-between items-start",children:[(0,l.jsx)("span",{className:"text-gray-800",children:e.name}),n?null:i.isBooked?(0,l.jsxs)("div",{className:"flex gap-2 items-center justify-center",children:[(0,l.jsx)("span",{className:"text-xs text-gray-600",children:`${i.checkIn} - ${i.checkOut}`}),(0,l.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-red-500 text-white mb-1",children:"Booked"})]}):(0,l.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-green-500 text-white",children:"Available"})]}),(0,l.jsx)("div",{className:"flex items-center mt-2",children:(0,l.jsx)("span",{className:"text-yellow-500",children:e.rating?(0,l.jsxs)(l.Fragment,{children:[Array(Math.floor(e.rating)).fill("★").join(""),e.rating%1>=.5?"★":""]}):"No rating"})}),(0,l.jsxs)("div",{className:"text-sm flex flex-col gap-2 mt-4",children:[(0,l.jsx)(w,{label:"Room Number",value:e.roomnumber}),(0,l.jsx)(w,{label:"Size",value:e.size?`${e.size}`:null}),(0,l.jsx)(w,{label:"Max Occupancy",value:e.maxOccupancy}),(0,l.jsx)(w,{label:"Beds & Blankets",value:Array.isArray(e.bedsAndBlankets)?e.bedsAndBlankets.join(", "):e.bedsAndBlankets}),(0,l.jsx)(w,{label:"Features",value:e.features?.join(", "),fallback:"No features listed"}),(0,l.jsx)(w,{label:"Amenities",value:e.amenities?.join(", "),fallback:"No amenities listed"}),(0,l.jsx)(w,{label:"Safety & Security",value:e.safetyAndSecurity?.join(", "),fallback:"No safety features listed"})]}),(0,l.jsx)("button",{onClick:()=>s(!0),className:`w-full mt-4 py-2 px-4 rounded-md shadow-md transition-colors duration-200 ${i.isBooked?"bg-gray-400 cursor-not-allowed":"bg-yellow-600 hover:bg-yellow-700"} text-white font-medium`,disabled:i.isBooked,children:i.isBooked?"Booked":"View Room"}),(0,l.jsx)(N,{isVisible:t,onClose:()=>s(!1),room:e})]})]})};var S=s(6095),C=s.n(S);let O=()=>{let[e,t]=(0,a.useState)({deluxe:[],superDeluxe:[],family:[]}),[s,o]=(0,a.useState)({deluxe:[],superDeluxe:[],family:[]}),[c,d]=(0,a.useState)({size:{small:!1,medium:!1,large:!1},occupancy:{single:!1,double:!1,family:!1},amenities:{airConditioning:!1,wifi:!1,"Geyser/Water Heater":!1,"Coffee table":!1}}),[m,u]=(0,a.useState)(null),[x,h]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{(async()=>{try{h(!0);let[e,s,l]=await Promise.all([(0,r.bO)(),(0,r.sC)(),(0,r.l9)()]);console.log("Deluxe Rooms:",e?.result),console.log("Super Deluxe Rooms:",s?.result),console.log("Family Rooms:",l?.result),t({deluxe:e?.result||[],superDeluxe:s?.result||[],family:l?.result||[]}),o({deluxe:e?.result||[],superDeluxe:s?.result||[],family:l?.result||[]})}catch(e){console.error(e),u("Error fetching room data.")}finally{h(!1)}})()},[]),(0,a.useEffect)(()=>{(()=>{let{size:t,occupancy:s,amenities:l}=c,a=e=>e.toLowerCase().replace(/\s|[-_]/g,""),r=e=>{let t=e.match(/(\d+)/);return t?parseInt(t[0],10):null},i=e=>e.filter(e=>{let i=!0,o={amenities:e.amenities.map(a),features:e.features.map(a),bedsAndBlankets:e.bedsAndBlankets.map(a),safetyAndSecurity:e.safetyAndSecurity.map(a),mediaAndEntertainment:e.mediaAndEntertainment.map(a),bathroom:e.bathroom.map(a),otherFacilities:e.otherFacilities.map(a)},n=r(e.size);return(t.small||t.medium||t.large)&&n&&(i=t.small&&n>=100&&n<=150||t.medium&&n>=151&&n<=200||t.large&&n>=201),i&&(s.single||s.double||s.family)&&(i=s.single&&1===e.maxOccupancy||s.double&&2===e.maxOccupancy||s.family&&e.maxOccupancy>=4),i&&Object.values(l).some(e=>e)&&(i=Object.keys(l).filter(e=>l[e]).some(e=>{let t=a(e);return o.amenities.includes(t)||o.features.includes(t)||o.bedsAndBlankets.includes(t)||o.safetyAndSecurity.includes(t)||o.mediaAndEntertainment.includes(t)||o.bathroom.includes(t)||o.otherFacilities.includes(t)})),i});o({deluxe:i(e.deluxe),superDeluxe:i(e.superDeluxe),family:i(e.family)})})()},[c,e]),x||m)?(0,l.jsxs)("div",{children:[(0,l.jsx)(n,{title:"Rooms & Suites",backgroundImage:"/images/img2.jpg"}),(0,l.jsx)("div",{className:"text-center py-10",children:x?(0,l.jsx)("p",{children:"Loading rooms..."}):(0,l.jsxs)("p",{children:["Error: ",m]})})]}):(0,l.jsxs)("div",{className:"w-full flex flex-col items-center justify-center bg-gray-100",children:[(0,l.jsxs)(C(),{children:[(0,l.jsx)("title",{children:"Rooms & Suites - Hotel Booking"}),(0,l.jsx)("meta",{name:"description",content:"Explore our Deluxe, Super Deluxe, and Family Rooms for your next stay. Find the perfect room with various amenities and options."}),(0,l.jsx)("meta",{name:"keywords",content:"hotel rooms, deluxe rooms, super deluxe rooms, family rooms, hotel booking, accommodation"}),(0,l.jsx)("meta",{property:"og:title",content:"Rooms & Suites - Hotel Booking"}),(0,l.jsx)("meta",{property:"og:description",content:"Explore our Deluxe, Super Deluxe, and Family Rooms for your next stay."}),(0,l.jsx)("meta",{property:"og:image",content:"/images/img2.jpg"}),(0,l.jsx)("meta",{property:"og:url",content:"https://www.hotelsudarshan.com/rooms"}),(0,l.jsx)("meta",{name:"twitter:title",content:"Rooms & Suites - Hotel Booking"}),(0,l.jsx)("meta",{name:"twitter:description",content:"Explore our Deluxe, Super Deluxe, and Family Rooms for your next stay."}),(0,l.jsx)("meta",{name:"twitter:image",content:"/images/img2.jpg"})]}),(0,l.jsx)("div",{className:"w-full relative",children:(0,l.jsx)(n,{className:"w-full",title:"Rooms & Suites",backgroundImage:"/images/img2.jpg"})}),(0,l.jsxs)("div",{className:"flex w-full p-5",children:[(0,l.jsx)("div",{className:"  ",children:(0,l.jsx)(i,{filters:c,toggleFilter:(e,t)=>{d(s=>({...s,[e]:{...s[e],[t]:!s[e][t]}}))}})}),(0,l.jsx)("div",{className:"flex w-full flex-col",children:(0,l.jsxs)("main",{className:"w-full  p-4 h-screen overflow-scroll ",children:[(0,l.jsxs)("section",{children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold mb-6",children:"Deluxe Rooms"}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.deluxe.length>0?s.deluxe.map(e=>(0,l.jsx)(k,{room:e},e._id)):(0,l.jsx)("p",{className:"col-span-full text-center text-gray-600",children:"No Deluxe Rooms Available."})})]}),(0,l.jsxs)("section",{children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold mb-6 mt-6",children:"Super Deluxe Rooms"}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.superDeluxe.length>0?s.superDeluxe.map(e=>(0,l.jsx)(k,{room:e},e._id)):(0,l.jsx)("p",{className:"col-span-full text-center text-gray-600",children:"No Super Deluxe Rooms Available."})})]}),(0,l.jsxs)("section",{children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold mb-6 mt-6",children:"Family Rooms"}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.family.length>0?s.family.map(e=>(0,l.jsx)(k,{room:e},e._id)):(0,l.jsx)("p",{className:"col-span-full text-center text-gray-600",children:"No Family Rooms Available."})})]})]})})]})]})}},5580:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});let l=(0,s(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\private work\\\\HotelFrontend\\\\src\\\\app\\\\rooms\\\\page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\private work\\HotelFrontend\\src\\app\\rooms\\page.js","default")},440:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var l=s(8077);let a=async e=>[{type:"image/x-icon",sizes:"369x385",url:(0,l.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),l=t.X(0,[989,69,77,467],()=>s(7338));module.exports=l})();