"use strict";(()=>{var e={};e.id=651,e.ids=[651],e.modules={5542:e=>{e.exports=require("next-auth")},6382:e=>{e.exports=require("next-auth/providers/credentials")},7851:e=>{e.exports=require("next-auth/providers/google")},5600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},1428:e=>{e.exports=import("axios")},6762:(e,r)=>{Object.defineProperty(r,"M",{enumerable:!0,get:function(){return function e(r,t){return t in r?r[t]:"then"in r&&"function"==typeof r.then?r.then(r=>e(r,t)):"function"==typeof r&&"default"===t?r:void 0}}})},5379:(e,r,t)=>{t.a(e,async(e,o)=>{try{t.r(r),t.d(r,{config:()=>d,default:()=>u,routeModule:()=>c});var i=t(9947),a=t(325),n=t(6762),s=t(7951),l=e([s]);s=(l.then?(await l)():l)[0];let u=(0,n.M)(s,"default"),d=(0,n.M)(s,"config"),c=new i.PagesAPIRouteModule({definition:{kind:a.A.PAGES_API,page:"/api/auth/[...nextauth]",pathname:"/api/auth/[...nextauth]",bundlePath:"",filename:""},userland:s});o()}catch(e){o(e)}})},8092:(e,r,t)=>{t.d(r,{A:()=>a});let o="http://localhost:5000/api",i={GET_ROOMS:()=>o+"/rooms",GET_DELUXE_ROOMS:()=>o+"/deluxe-rooms",GET_SUPER_DELUXE_ROOMS:()=>o+"/super-deluxe-rooms",GET_FAMILY_ROOMS:()=>o+"/family-rooms",GET_DELUXE_ROOMSBYNUMBER:e=>`${o}/api/deluxe-rooms/?id=${e}`,GET_SUPERDELUXE_ROOMSBYNUMBER:e=>o+`/super-deluxe-rooms/?id=${e}`,GET_FAMILY_ROOMSBYNUMBER:e=>o+`/family-rooms/?id=${e}`,GET_AMINITIES:()=>o+"/amenities",GET_ALL_BOOKING_ROOMS:()=>o+"/bookings",POST_BOOKING_ROOMS:()=>o+"/bookings",PUT_FAMILY_ROOM:()=>o+`/family-rooms/${id}`,PUT_DELUXE_ROOM:e=>o+`/deluxe-rooms/${e}`,PUT_SUPERDELUXE_ROOM:()=>o+`/super-deluxe-rooms/${id}`,LOGIN_USER:()=>o+"/auth/login",REGISTER_USER:()=>o+"/auth/register",MAIL_URL:()=>o+"/email/send-booking-emails"};Object.freeze(i);let a=i},2428:(e,r,t)=>{t.a(e,async(e,o)=>{try{t.d(r,{DY:()=>s,Lx:()=>l});var i=t(1428),a=t(8092),n=e([i]);i=(n.then?(await n)():n)[0];let l=e=>fetch(a.A.LOGIN_USER(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.ok?e.json():Promise.reject("Failed to login")).then(e=>(localStorage.setItem("token",e.token),localStorage.setItem("user",JSON.stringify(e.user)),console.log("Login Successful:",e),e.user)).catch(e=>{throw console.error("Login Error:",e),e});function s(e){return fetch(a.A.REGISTER_USER(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>{if(!e.ok)throw Error("Failed to register user");return e.json()}).then(e=>(console.log("User registered successfully",e),e)).catch(e=>{throw console.error("Error registering user:",e),e})}o()}catch(e){o(e)}})},7951:(e,r,t)=>{t.a(e,async(e,o)=>{try{t.r(r),t.d(r,{default:()=>E});var i=t(5542),a=t.n(i),n=t(6382),s=t.n(n),l=t(7851),u=t.n(l),d=t(2428),c=e([d]);d=(c.then?(await c)():c)[0];let E=a()({providers:[s()({name:"Credentials",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"},fullName:{label:"Full Name",type:"text"},mobileNumber:{label:"Mobile Number",type:"text"},isSignUp:{label:"Sign Up",type:"checkbox"}},async authorize(e){let{email:r,password:t,fullName:o,mobileNumber:i,isSignUp:a}=e||{};if(!r||!t||a&&!o)throw Error("Invalid input");if(a)try{let e=await (0,d.DY)({email:r,password:t,fullName:o,mobileNumber:i});return{id:e.id,email:e.email,name:e.name,mobileNumber:e.mobileNumber}}catch(e){throw Error("Error registering user")}try{let e=await (0,d.Lx)({email:r,password:t});return{id:e.id,email:e.email,name:e.name,mobileNumber:e.mobileNumber}}catch(e){throw Error("Invalid email or password")}}}),u()({clientId:process.env.GOOGLE_CLIENT_ID,clientSecret:process.env.GOOGLE_CLIENT_SECRET})],pages:{signIn:"/login",error:"/auth/error"},callbacks:{redirect:async({url:e,baseUrl:r})=>e.startsWith(r)?e:r},debug:!0});o()}catch(e){o(e)}})},325:(e,r)=>{var t;Object.defineProperty(r,"A",{enumerable:!0,get:function(){return t}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE"}(t||(t={}))},9947:(e,r,t)=>{e.exports=t(5600)}};var r=require("../../../webpack-api-runtime.js");r.C(e);var t=r(r.s=5379);module.exports=t})();