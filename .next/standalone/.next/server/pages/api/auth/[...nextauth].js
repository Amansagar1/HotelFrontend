"use strict";(()=>{var e={};e.id=651,e.ids=[651],e.modules={5542:e=>{e.exports=require("next-auth")},6382:e=>{e.exports=require("next-auth/providers/credentials")},7851:e=>{e.exports=require("next-auth/providers/google")},5600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},1428:e=>{e.exports=import("axios")},6762:(e,t)=>{Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},5379:(e,t,r)=>{r.a(e,async(e,o)=>{try{r.r(t),r.d(t,{config:()=>c,default:()=>u,routeModule:()=>d});var a=r(9947),i=r(325),n=r(6762),s=r(7951),l=e([s]);s=(l.then?(await l)():l)[0];let u=(0,n.M)(s,"default"),c=(0,n.M)(s,"config"),d=new a.PagesAPIRouteModule({definition:{kind:i.A.PAGES_API,page:"/api/auth/[...nextauth]",pathname:"/api/auth/[...nextauth]",bundlePath:"",filename:""},userland:s});o()}catch(e){o(e)}})},8092:(e,t,r)=>{r.d(t,{A:()=>i});let o="https://localhost:5000/api",a={GET_ROOMS:()=>o+"/rooms",GET_DELUXE_ROOMS:()=>o+"/deluxe-rooms",GET_SUPER_DELUXE_ROOMS:()=>o+"/super-deluxe-rooms",GET_FAMILY_ROOMS:()=>o+"/family-rooms",GET_DELUXE_ROOMSBYNUMBER:e=>`${o}/api/deluxe-rooms/?id=${e}`,GET_SUPERDELUXE_ROOMSBYNUMBER:e=>o+`/super-deluxe-rooms/?id=${e}`,GET_FAMILY_ROOMSBYNUMBER:e=>o+`/family-rooms/?id=${e}`,GET_AMINITIES:()=>o+"/amenities",GET_ALL_BOOKING_ROOMS:()=>o+"/bookings",POST_BOOKING_ROOMS:()=>o+"/bookings",PUT_FAMILY_ROOM:()=>o+`/family-rooms/${id}`,PUT_DELUXE_ROOM:e=>o+`/deluxe-rooms/${e}`,PUT_SUPERDELUXE_ROOM:()=>o+`/super-deluxe-rooms/${id}`,LOGIN_USER:()=>o+"/auth/login",REGISTER_USER:()=>o+"/auth/register",MAIL_URL:()=>"https://hotelsudarshan.com:5000/send-email",GET_ALL_ROOMS:()=>o+"/allrooms",GET_FOOTER:()=>o+"/footer",GET_AMENITIES_PAGE:()=>o+"/hotel",GET_ABOUT_US:()=>o+"/aboutus"};Object.freeze(a);let i=a},2428:(e,t,r)=>{r.a(e,async(e,o)=>{try{r.d(t,{DY:()=>s,Lx:()=>l});var a=r(1428),i=r(8092),n=e([a]);a=(n.then?(await n)():n)[0];let l=e=>fetch(i.A.LOGIN_USER(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.ok?e.json():Promise.reject("Failed to login")).then(e=>(localStorage.setItem("token",e.token),localStorage.setItem("user",JSON.stringify(e.user)),console.log("Login Successful:",e),e.user)).catch(e=>{throw console.error("Login Error:",e),e});function s(e){return fetch(i.A.REGISTER_USER(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>{if(!e.ok)throw Error("Failed to register user");return e.json()}).then(e=>(console.log("User registered successfully",e),e)).catch(e=>{throw console.error("Error registering user:",e),e})}o()}catch(e){o(e)}})},7951:(e,t,r)=>{r.a(e,async(e,o)=>{try{r.r(t),r.d(t,{default:()=>E});var a=r(5542),i=r.n(a),n=r(6382),s=r.n(n),l=r(7851),u=r.n(l),c=r(2428),d=e([c]);c=(d.then?(await d)():d)[0];let E=i()({providers:[s()({name:"Credentials",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"},fullName:{label:"Full Name",type:"text"},mobileNumber:{label:"Mobile Number",type:"text"},isSignUp:{label:"Sign Up",type:"checkbox"}},async authorize(e){let{email:t,password:r,fullName:o,mobileNumber:a,isSignUp:i}=e||{};if(!t||!r||i&&!o)throw Error("Invalid input");if(i)try{let e=await (0,c.DY)({email:t,password:r,fullName:o,mobileNumber:a});return{id:e.id,email:e.email,name:e.name,mobileNumber:e.mobileNumber}}catch(e){throw Error("Error registering user")}try{let e=await (0,c.Lx)({email:t,password:r});return{id:e.id,email:e.email,name:e.name,mobileNumber:e.mobileNumber}}catch(e){throw Error("Invalid email or password")}}}),u()({clientId:process.env.GOOGLE_CLIENT_ID,clientSecret:process.env.GOOGLE_CLIENT_SECRET,authorization:{url:"https://accounts.google.com/o/oauth2/v2/auth",params:{scope:"openid profile email"}}})],pages:{signIn:"/login",error:"/auth/error"},callbacks:{redirect:async({url:e,baseUrl:t})=>e.startsWith(t)?e:t+"/rooms",session:async({session:e,token:t})=>(e?.user&&(e.user.id=t.id),e),jwt:async({token:e,user:t})=>(t&&(e.id=t.id),e)},cookies:{sessionToken:{name:"next-auth.session-token",options:{path:"/",httpOnly:!0,secure:!0,sameSite:"lax",domain:".hotelsudarshan.com"}}},debug:!0});o()}catch(e){o(e)}})},325:(e,t)=>{var r;Object.defineProperty(t,"A",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE"}(r||(r={}))},9947:(e,t,r)=>{e.exports=r(5600)}};var t=require("../../../webpack-api-runtime.js");t.C(e);var r=t(t.s=5379);module.exports=r})();