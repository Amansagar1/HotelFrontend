"use strict";(()=>{var e={};e.id=651,e.ids=[651],e.modules={5542:e=>{e.exports=require("next-auth")},6382:e=>{e.exports=require("next-auth/providers/credentials")},7851:e=>{e.exports=require("next-auth/providers/google")},5600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},1428:e=>{e.exports=import("axios")},6762:(e,r)=>{Object.defineProperty(r,"M",{enumerable:!0,get:function(){return function e(r,t){return t in r?r[t]:"then"in r&&"function"==typeof r.then?r.then(r=>e(r,t)):"function"==typeof r&&"default"===t?r:void 0}}})},5379:(e,r,t)=>{t.a(e,async(e,o)=>{try{t.r(r),t.d(r,{config:()=>c,default:()=>u,routeModule:()=>E});var a=t(9947),i=t(325),n=t(6762),s=t(7951),l=e([s]);s=(l.then?(await l)():l)[0];let u=(0,n.M)(s,"default"),c=(0,n.M)(s,"config"),E=new a.PagesAPIRouteModule({definition:{kind:i.A.PAGES_API,page:"/api/auth/[...nextauth]",pathname:"/api/auth/[...nextauth]",bundlePath:"",filename:""},userland:s});o()}catch(e){o(e)}})},8092:(e,r,t)=>{t.d(r,{A:()=>i});let o="https://localhost:5000/api",a={GET_ROOMS:()=>o+"/rooms",GET_DELUXE_ROOMS:()=>o+"/deluxe-rooms",GET_SUPER_DELUXE_ROOMS:()=>o+"/super-deluxe-rooms",GET_FAMILY_ROOMS:()=>o+"/family-rooms",GET_DELUXE_ROOMSBYNUMBER:e=>`${o}/api/deluxe-rooms/?id=${e}`,GET_SUPERDELUXE_ROOMSBYNUMBER:e=>o+`/super-deluxe-rooms/?id=${e}`,GET_FAMILY_ROOMSBYNUMBER:e=>o+`/family-rooms/?id=${e}`,GET_AMINITIES:()=>o+"/amenities",GET_ALL_BOOKING_ROOMS:()=>o+"/bookings",POST_BOOKING_ROOMS:()=>o+"/bookings",PUT_FAMILY_ROOM:()=>o+`/family-rooms/${id}`,PUT_DELUXE_ROOM:e=>o+`/deluxe-rooms/${e}`,PUT_SUPERDELUXE_ROOM:()=>o+`/super-deluxe-rooms/${id}`,LOGIN_USER:()=>o+"/auth/login",REGISTER_USER:()=>o+"/auth/register",MAIL_URL:()=>"https://hotelsudarshan.com:5000/send-email",GET_ALL_ROOMS:()=>o+"/allrooms",GET_FOOTER:()=>o+"/footer",GET_AMENITIES_PAGE:()=>o+"/hotel",GET_ABOUT_US:()=>o+"/aboutus",GET_GOOGLE_Auth:()=>o+"/auth/google",GET_CALLBACK:()=>o+"/auth/google/callback"};Object.freeze(a);let i=a},2428:(e,r,t)=>{t.a(e,async(e,o)=>{try{t.d(r,{DY:()=>s,Lx:()=>l});var a=t(1428),i=t(8092),n=e([a]);a=(n.then?(await n)():n)[0];let l=e=>fetch(i.A.LOGIN_USER(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.ok?e.json():Promise.reject("Failed to login")).then(e=>(localStorage.setItem("token",e.token),localStorage.setItem("user",JSON.stringify(e.user)),console.log("Login Successful:",e),e.user)).catch(e=>{throw console.error("Login Error:",e),e});function s(e){return fetch(i.A.REGISTER_USER(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>{if(!e.ok)throw Error("Failed to register user");return e.json()}).then(e=>(console.log("User registered successfully",e),e)).catch(e=>{throw console.error("Error registering user:",e),e})}o()}catch(e){o(e)}})},7951:(e,r,t)=>{t.a(e,async(e,o)=>{try{t.r(r),t.d(r,{default:()=>d});var a=t(5542),i=t.n(a),n=t(6382),s=t.n(n),l=t(7851),u=t.n(l),c=t(2428),E=e([c]);c=(E.then?(await E)():E)[0];let d=i()({providers:[s()({name:"Credentials",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"},fullName:{label:"Full Name",type:"text"},mobileNumber:{label:"Mobile Number",type:"text"},isSignUp:{label:"Sign Up",type:"checkbox"}},async authorize(e){let{email:r,password:t,fullName:o,mobileNumber:a,isSignUp:i}=e||{};if(!r||!t||i&&!o)throw Error("Invalid input");if(i)try{let e=await (0,c.DY)({email:r,password:t,fullName:o,mobileNumber:a});return{id:e.id,email:e.email,name:e.name,mobileNumber:e.mobileNumber}}catch(e){throw Error("Error registering user")}try{let e=await (0,c.Lx)({email:r,password:t});return{id:e.id,email:e.email,name:e.name,mobileNumber:e.mobileNumber}}catch(e){throw Error("Invalid email or password")}}}),u()({clientId:process.env.GOOGLE_CLIENT_ID,clientSecret:process.env.GOOGLE_CLIENT_SECRET,authorization:{params:{prompt:"consent",access_type:"offline",response_type:"code",scope:"openid profile email"}}})],pages:{signIn:"/login",error:"/auth/error"},callbacks:{signIn:async({user:e,account:r,profile:t})=>(r?.provider==="google"&&console.log("Google User:",e),!0),redirect:async({url:e,baseUrl:r})=>e.startsWith(r)?e:r+"/rooms",session:async({session:e,token:r})=>(e.user.id=r.sub,e),jwt:async({token:e,user:r})=>(r&&(e.id=r.id),e)},debug:!1});o()}catch(e){o(e)}})},325:(e,r)=>{var t;Object.defineProperty(r,"A",{enumerable:!0,get:function(){return t}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE"}(t||(t={}))},9947:(e,r,t)=>{e.exports=t(5600)}};var r=require("../../../webpack-api-runtime.js");r.C(e);var t=r(r.s=5379);module.exports=t})();